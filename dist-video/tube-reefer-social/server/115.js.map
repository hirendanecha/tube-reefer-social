{"version":3,"file":"115.js","mappings":"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","sources":["./src/app/@shared/services/seo.service.ts","./src/app/@shared/services/socket.service.ts","./src/app/@shared/utils/utils.ts","./src/app/main-layout/pages/video/video-routing.module.ts","./src/app/main-layout/pages/video/video.component.ts","./src/app/main-layout/pages/video/video.component.html","./src/app/main-layout/pages/video/video.module.ts","./node_modules/debug/src/browser.js","./node_modules/debug/src/common.js","./node_modules/debug/src/index.js","./node_modules/debug/src/node.js","./node_modules/engine.io-client/node_modules/ws/lib/buffer-util.js","./node_modules/engine.io-client/node_modules/ws/lib/constants.js","./node_modules/engine.io-client/node_modules/ws/lib/event-target.js","./node_modules/engine.io-client/node_modules/ws/lib/extension.js","./node_modules/engine.io-client/node_modules/ws/lib/limiter.js","./node_modules/engine.io-client/node_modules/ws/lib/permessage-deflate.js","./node_modules/engine.io-client/node_modules/ws/lib/receiver.js","./node_modules/engine.io-client/node_modules/ws/lib/sender.js","./node_modules/engine.io-client/node_modules/ws/lib/stream.js","./node_modules/engine.io-client/node_modules/ws/lib/subprotocol.js","./node_modules/engine.io-client/node_modules/ws/lib/validation.js","./node_modules/engine.io-client/node_modules/ws/lib/websocket-server.js","./node_modules/engine.io-client/node_modules/ws/lib/websocket.js","./node_modules/has-flag/index.js","./node_modules/ms/index.js","./node_modules/supports-color/index.js","./node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js","./node_modules/@socket.io/component-emitter/index.mjs","./node_modules/engine.io-client/build/esm-debug/contrib/parseqs.js","./node_modules/engine.io-client/build/esm-debug/contrib/parseuri.js","./node_modules/engine.io-client/build/esm-debug/contrib/yeast.js","./node_modules/engine.io-client/build/esm-debug/globalThis.js","./node_modules/engine.io-client/build/esm-debug/index.js","./node_modules/engine.io-client/build/esm-debug/socket.js","./node_modules/engine.io-client/build/esm-debug/transport.js","./node_modules/engine.io-client/build/esm-debug/transports/index.js","./node_modules/engine.io-client/build/esm-debug/transports/polling.js","./node_modules/engine.io-client/build/esm-debug/transports/websocket-constructor.js","./node_modules/engine.io-client/build/esm-debug/transports/websocket.js","./node_modules/engine.io-client/build/esm-debug/transports/webtransport.js","./node_modules/engine.io-client/build/esm-debug/transports/xmlhttprequest.js","./node_modules/engine.io-client/build/esm-debug/util.js","./node_modules/engine.io-client/node_modules/ws/wrapper.mjs","./node_modules/engine.io-parser/build/esm/commons.js","./node_modules/engine.io-parser/build/esm/decodePacket.js","./node_modules/engine.io-parser/build/esm/encodePacket.js","./node_modules/engine.io-parser/build/esm/index.js","./node_modules/socket.io-client/build/esm-debug/contrib/backo2.js","./node_modules/socket.io-client/build/esm-debug/index.js","./node_modules/socket.io-client/build/esm-debug/manager.js","./node_modules/socket.io-client/build/esm-debug/on.js","./node_modules/socket.io-client/build/esm-debug/socket.js","./node_modules/socket.io-client/build/esm-debug/url.js","./node_modules/socket.io-parser/build/esm-debug/binary.js","./node_modules/socket.io-parser/build/esm-debug/index.js","./node_modules/socket.io-parser/build/esm-debug/is-binary.js"],"sourcesContent":["import { DOCUMENT, isPlatformServer } from '@angular/common';\r\nimport { Inject, Injectable, Injector, isDevMode, PLATFORM_ID } from '@angular/core';\r\nimport { Title, Meta, MetaDefinition } from '@angular/platform-browser';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SeoService {\r\n  destroyed = new Subject<void>();\r\n\r\n  constructor(\r\n    private title: Title,\r\n    private meta: Meta,\r\n    private injector: Injector,\r\n    @Inject(DOCUMENT) private document: Document,\r\n    @Inject(PLATFORM_ID) private platformId: Object\r\n  ) { }\r\n\r\n  updateTitle(title: string): void {\r\n    this.title.setTitle(title);\r\n  }\r\n\r\n  updateMetaTags(metaTags: MetaDefinition[]): void {\r\n    metaTags.forEach((m) => {\r\n      this.meta.updateTag(m);\r\n    });\r\n\r\n    if (isDevMode()) {\r\n      const metaTag: MetaDefinition = {\r\n        name: 'googlebot',\r\n        content: 'noindex, nofollow'\r\n      };\r\n      this.meta.updateTag(metaTag);\r\n    }\r\n  }\r\n\r\n  updateComponentSeo(seoObj: any = {}, isMainPage: boolean = false): void {\r\n    const metaTags = [...seoObj?.metaTags] || [];\r\n    const tagValue = {\r\n      title: seoObj?.title,\r\n      url: seoObj?.url,\r\n      description: metaTags?.[0]?.content,\r\n      image: metaTags?.[1]?.content\r\n    };\r\n\r\n    this.updateTitle(seoObj?.title);\r\n    this.updateMetaTags(metaTags);\r\n\r\n    this.updateFbSeo(tagValue);\r\n\r\n    this.createAlternateLink(seoObj?.url);\r\n\r\n    if (isMainPage === false) {\r\n      this.createCanonicalLink(seoObj?.url);\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line max-len\r\n  updateFbSeo(tags: { title: string, url?: string, appId?: string, description?: string, image?: string }): void {\r\n    const tagValue = { ...tags };\r\n\r\n    if (!tagValue.url) {\r\n      if (isPlatformServer(this.platformId)) {\r\n        tagValue.url = this.injector.get('REQ_URL').toLowerCase();\r\n      } else {\r\n        tagValue.url = this.document.URL.toLowerCase() || this.document.location.href.toLowerCase();\r\n      }\r\n    }\r\n\r\n    if (!tagValue.image) {\r\n      tagValue.image = 'https://freedom.buzz/assets/images/banner/freedom-buzz-high-res.jpeg';\r\n    }\r\n\r\n    this.meta.updateTag({\r\n      property: 'og:type',\r\n      content: 'website'\r\n    });\r\n\r\n    if (tagValue.title) {\r\n      this.meta.updateTag({\r\n        property: 'og:title',\r\n        content: tagValue.title\r\n      });\r\n    }\r\n\r\n    if (tagValue.description) {\r\n      this.meta.updateTag({\r\n        property: 'og:description',\r\n        content: tagValue.description\r\n      });\r\n    }\r\n\r\n    if (tagValue.image) {\r\n      this.meta.updateTag({\r\n        property: 'og:image',\r\n        content: tagValue.image\r\n      });\r\n    }\r\n\r\n    this.meta.updateTag({\r\n      property: 'og:url',\r\n      content: tagValue.url\r\n    });\r\n\r\n    this.meta.updateTag({\r\n      property: 'og:appId',\r\n      content: tagValue.appId\r\n    });\r\n\r\n    this.meta.updateTag({\r\n      property: 'fb:app_id',\r\n      content: tagValue.appId\r\n    });\r\n\r\n    this.meta.updateTag({\r\n      property: 'fb:app:id',\r\n      content: tagValue.appId\r\n    });\r\n\r\n  }\r\n\r\n  private createAlternateLink(url: string = '') {\r\n    const canURL = url || this.document.URL;\r\n    const link = this.document.createElement('link');\r\n\r\n    link.setAttribute('rel', 'alternate');\r\n    link.setAttribute('hreflang', 'en');\r\n    link.setAttribute('href', canURL || '[url]');\r\n    this.document.head.appendChild(link);\r\n  }\r\n\r\n  private createCanonicalLink(url: string = '') {\r\n    const canURL = url || this.document.URL;\r\n    const link = this.document.createElement('link');\r\n\r\n    link.setAttribute('rel', 'canonical');\r\n    link.setAttribute('href', canURL || '[url]');\r\n    this.document.head.appendChild(link);\r\n  }\r\n\r\n  updateSeoMetaData(obj: any = {}, isMainPage: boolean = false): void {\r\n    const seoObj = {\r\n      url: obj?.url,\r\n      title: obj?.title,\r\n      metaTags: [{\r\n        name: 'description',\r\n        content: obj?.description\r\n      }, {\r\n        name: 'image',\r\n        content: obj?.image\r\n      }, {\r\n        name: 'video',\r\n        content: obj?.video\r\n      },\r\n      ]\r\n    };\r\n    console.log('seoObj', seoObj, obj?.description)\r\n    this.updateComponentSeo(seoObj, isMainPage);\r\n  }\r\n}\r\n","import { isPlatformBrowser } from '@angular/common';\r\nimport { Inject, Injectable, PLATFORM_ID } from '@angular/core';\r\nimport { io } from 'socket.io-client';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SocketService {\r\n  public socket: any;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private platformId: Object\r\n  ) {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.socket = io(environment.socketUrl, {\r\n        reconnectionDelay: 100,\r\n        reconnectionDelayMax: 300,\r\n        // reconnection: true,\r\n        randomizationFactor: 0.2,\r\n        // timeout: 120000,\r\n        reconnectionAttempts: 50000, transports: [\"websocket\"]\r\n      });\r\n    }\r\n  }\r\n\r\n  // socket for posts //\r\n  getPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('get-new-post', params, callback);\r\n  }\r\n\r\n  createOrEditPost({ file, ...params }) {\r\n    if (this.socket?.connected) {\r\n      this.socket?.emit('create-new-post', params);\r\n    } else {\r\n      this.socket?.connect();\r\n      this.socket?.emit('create-new-post', params);\r\n    }\r\n\r\n  }\r\n\r\n  editPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('create-new-post', params, callback);\r\n  }\r\n\r\n  // socket for community //\r\n  getCommunityPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('get-community-post', params, callback);\r\n  }\r\n\r\n  createCommunityPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('create-community-post', params, callback);\r\n  }\r\n\r\n  createCommunity(params, callback: (post: any) => void) {\r\n    this.socket?.emit('create-new-community', params, callback);\r\n  }\r\n\r\n  getCommunity(params, callback: (post: any) => void) {\r\n    this.socket?.emit('get-new-community', params, callback);\r\n  }\r\n\r\n  likeFeedPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('likeOrDislike', params, callback);\r\n  }\r\n\r\n  likeFeedComments(params, callback: (post: any) => void) {\r\n    this.socket?.emit('likeOrDislikeComments', params, callback);\r\n  }\r\n\r\n  disLikeFeedPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('likeOrDislike', params, callback);\r\n  }\r\n\r\n  commentOnPost(params, callback: (data: any) => void) {\r\n    this.socket?.emit('comments-on-post', params, callback);\r\n  }\r\n}\r\n","import { FormGroup } from \"@angular/forms\";\r\n\r\nexport const slugify = (str: string) => {\r\n  return str?.length > 0 ? str.toLowerCase().trim().replace(/[^\\w\\s-]/g, '').replace(/[\\s_-]+/g, '-').replace(/^-+|-+$/g, '') : '';\r\n}\r\n\r\nexport const numToRevArray = (num: number) => {\r\n  return Array(num).fill(0).map((x,i)=>i).reverse();\r\n}\r\n\r\nexport const  isFormSubmittedAndError = (formGroup: FormGroup, isFormSubmitted: boolean, controlName: string, errorName: string = '', notError: Array<string> = new Array()): any => {\r\n  const otherError: any = formGroup.controls[controlName].errors;\r\n\r\n  if (isFormSubmitted && otherError) {\r\n      return errorName == '' ? true : (otherError ? !Object.keys(otherError).some(err => notError.includes(err)) : true) ? formGroup.controls[controlName].hasError(errorName) : false;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport const getTagUsersFromAnchorTags = (anchorTags: any[]): any[] => {\r\n  const tags = [];\r\n  for (const key in anchorTags) {\r\n    if (Object.prototype.hasOwnProperty.call(anchorTags, key)) {\r\n      const tag = anchorTags[key];\r\n\r\n      tags.push({\r\n        id: tag?.getAttribute('data-id'),\r\n        name: tag?.innerHTML,\r\n      });\r\n    }\r\n  }\r\n\r\n  return tags;\r\n}\r\n\r\nexport const deleteExtraParamsFromReqObj = (reqObj: any): any => {\r\n  delete reqObj?.['isClicked'];\r\n  delete reqObj?.['isSubmitted'];\r\n\r\n  return reqObj;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { VideoComponent } from './video.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: VideoComponent\r\n  },\r\n  // {\r\n  //   path: ':id',\r\n  //   component: VideoComponent\r\n  // }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class VideoRoutingModule { }\r\n","import { isPlatformBrowser } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  Inject,\r\n  OnChanges,\r\n  OnInit,\r\n  PLATFORM_ID,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NgbDropdown, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ReplyCommentModalComponent } from 'src/app/@shared/components/reply-comment-modal/reply-comment-modal.component';\r\nimport { AuthService } from 'src/app/@shared/services/auth.service';\r\nimport { CommonService } from 'src/app/@shared/services/common.service';\r\nimport { SeoService } from 'src/app/@shared/services/seo.service';\r\nimport { ShareService } from 'src/app/@shared/services/share.service';\r\nimport { SocketService } from 'src/app/@shared/services/socket.service';\r\nimport { ToastService } from 'src/app/@shared/services/toast.service';\r\nimport { getTagUsersFromAnchorTags } from 'src/app/@shared/utils/utils';\r\nimport { environment } from 'src/environments/environment';\r\ndeclare var Clappr: any;\r\ndeclare var jwplayer: any;\r\n@Component({\r\n  selector: 'app-video',\r\n  templateUrl: './video.component.html',\r\n  styleUrls: ['./video.component.scss'],\r\n})\r\nexport class VideoComponent implements OnInit, OnChanges {\r\n  @ViewChild('parentPostCommentElement', { static: false })\r\n  parentPostCommentElement: ElementRef;\r\n  @ViewChild('childPostCommentElement', { static: false })\r\n  childPostCommentElement: ElementRef;\r\n\r\n  @ViewChild('userSearchDropdownRef', { static: false, read: NgbDropdown })\r\n  userSearchNgbDropdown: NgbDropdown;\r\n  searchText: string = '';\r\n  userSearchList: any = [];\r\n\r\n  videoDetails: any = {};\r\n  channelDetails: any = {};\r\n  apiUrl = environment.apiUrl + 'channels';\r\n  commentapiUrl = environment.apiUrl + 'posts';\r\n  searchApi = environment.apiUrl + 'customers/search-user';\r\n  videoList: any = [];\r\n\r\n  profileId: number;\r\n  isOpenCommentsPostId: number = null;\r\n\r\n  commentList: any = [];\r\n  replyCommentList: any = [];\r\n  isReply = false;\r\n  isReplyComments: boolean = false;\r\n  commentId = null;\r\n  commentData: any = {\r\n    file: null,\r\n    url: '',\r\n    tags: [],\r\n    meta: {},\r\n  };\r\n  isParent: boolean = false;\r\n  postComment = {};\r\n  isCommentsLoader: boolean = false;\r\n  isPostComment: boolean = false;\r\n  player: any;\r\n  // webUrl = environment.webUrl;\r\n  hasMoreData = false;\r\n  activePage: number;\r\n  commentMessageTags = [];\r\n  commentMessageInputValue: string = '';\r\n  constructor(\r\n    private commonService: CommonService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private toastService: ToastService,\r\n    private socketService: SocketService,\r\n    public authService: AuthService,\r\n    private renderer: Renderer2,\r\n    private modalService: NgbModal,\r\n    private spinner: NgxSpinnerService,\r\n    public sharedService: ShareService,\r\n    private seoService:SeoService,\r\n    @Inject(PLATFORM_ID) private platformId: Object\r\n  ) {\r\n    this.profileId = JSON.parse(this.authService.getUserData() as any)?.Id || null;\r\n    if (isPlatformBrowser(this.platformId)) {\r\n\r\n      this.route.params.subscribe((params) => {\r\n        const id = +params['id'];\r\n        console.log('>>>>>', id);\r\n        if (id) {\r\n          this.getPostDetailsById(id);\r\n          // this.videoDetails = history?.state?.data;\r\n          // console.log(this.videoDetails);\r\n          // this.viewComments(id);\r\n          // this.playvideo(id);\r\n        }\r\n      });\r\n    }\r\n    // this.router.events.subscribe((event: any) => {\r\n    //   const id = event?.routerEvent?.url.split('/')[1];\r\n\r\n    // });\r\n  }\r\n  ngOnChanges(changes: SimpleChanges): void { }\r\n\r\n  ngOnInit(): void {\r\n    // this.getMyChannels();\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.getPostVideosById();\r\n      this.viewComments(this.videoDetails?.id);\r\n      this.socketListner();\r\n    }\r\n  }\r\n\r\n  getMyChannels(): void {\r\n    // this.spinner.show();\r\n    this.commonService\r\n      .getById(\r\n        this.apiUrl,\r\n        { id: this.videoDetails.profileid }\r\n        // this.userData.profileId\r\n      )\r\n      .subscribe({\r\n        next: (res) => {\r\n          this.spinner.hide();\r\n          // console.log(res);\r\n          this.channelDetails = res[0];\r\n        },\r\n        error: (error) => {\r\n          this.spinner.hide();\r\n          console.log(error);\r\n        },\r\n      });\r\n  }\r\n\r\n  getPostDetailsById(id): void {\r\n    this.commonService.get(`${this.apiUrl}/post/${id}`).subscribe({\r\n      next: (res) => {\r\n        this.spinner.hide();\r\n        // console.log(res);\r\n        this.videoDetails = res[0];\r\n       \r\n        const data = {\r\n          title: `ReeferTube ${this.videoDetails.albumname}`,\r\n          description: this.videoDetails.postdescription,\r\n        };\r\n        this.seoService.updateSeoMetaData(data);\r\n        this.playvideo(this.videoDetails.id);\r\n        this.viewComments(this.videoDetails.id);\r\n      },\r\n      error: (error) => {\r\n        this.spinner.hide();\r\n        console.log(error);\r\n      },\r\n    });\r\n  }\r\n\r\n  getPostVideosById(): void {\r\n    this.activePage = 0;\r\n    this.loadMore();\r\n    // this.commonService\r\n    //   .post(`${this.apiUrl}/posts`, { size: 15, page: 1 })\r\n    //   .subscribe({\r\n    //     next: (res: any) => {\r\n    //       this.videoList = res.data;\r\n    //       // console.log(res);\r\n    //       // this.playvideo();\r\n    //     },\r\n    //     error: (error) => {\r\n    //       console.log(error);\r\n    //     },\r\n    //   });\r\n  }\r\n\r\n  loadMore() {\r\n    this.activePage++;\r\n    // this.spinner.show();\r\n    this.commonService\r\n      .post(`${this.apiUrl}/posts`, { size: 15, page: this.activePage })\r\n      .subscribe({\r\n        next: (res: any) => {\r\n          this.spinner.hide();\r\n          if (res?.data?.length > 0) {\r\n            this.videoList = this.videoList.concat(res.data);\r\n          } else {\r\n            this.hasMoreData = false;\r\n          }\r\n        },\r\n        error: (error) => {\r\n          this.spinner.hide();\r\n          console.log(error);\r\n        },\r\n      });\r\n  }\r\n\r\n  playvideo(id: any) {\r\n    let i = setInterval(() => {\r\n      if (this.player) {\r\n        this.player.remove();\r\n      }\r\n      // console.log('enter', id);\r\n      const isPhone = window.innerWidth <= 768;\r\n      const config = {\r\n        file: this.videoDetails?.streamname,\r\n        image: this.videoDetails?.thumbfilename,\r\n        mute: false,\r\n        autostart: false,\r\n        volume: 50,\r\n        height: isPhone ? '270px' : '660px',\r\n        // height: '640px',\r\n        width: 'auto',\r\n        pipIcon: 'disabled',\r\n        preload: 'metadata',\r\n        aspectratio: '16:9',\r\n        autoPause: {\r\n          viewability: false,\r\n        },\r\n        playbackRateControls: true,\r\n        playbackRates: [0.25, 0.50, , 0.75, 1, 1.25, 1.75, 2],\r\n        controls: true,\r\n        events: {\r\n          onError: function (e: any) {\r\n            console.log(e);\r\n          },\r\n        },\r\n      };\r\n      console.log('>>>>> config', JSON.stringify(config));\r\n      this.player = jwplayer('jwVideo-' + id).setup({\r\n        ...config,\r\n      });\r\n      this.player.load();\r\n      console.log('>>>>>', this.player);\r\n\r\n      if (this.player) clearInterval(i);\r\n    }, 1000);\r\n  }\r\n\r\n  onPostFileSelect(event: any, type: string): void {\r\n    if (type === 'parent') {\r\n      this.isParent = true;\r\n    } else {\r\n      this.isParent = false;\r\n    }\r\n    const file = event.target?.files?.[0] || {};\r\n    if (file?.size < 5120000) {\r\n      if (file.type.includes('image/')) {\r\n        this.commentData['file'] = file;\r\n        this.commentData['imageUrl'] = URL.createObjectURL(file);\r\n      } else {\r\n        this.toastService.danger(`sorry ${file.type} are not allowed!`);\r\n      }\r\n    } else {\r\n      this.toastService.warring('Image is too large!');\r\n    }\r\n  }\r\n  removePostSelectedFile(): void {\r\n    this.commentData['file'] = null;\r\n    this.commentData['imageUrl'] = '';\r\n  }\r\n\r\n  commentOnPost(postId, commentId = null): void {\r\n    this.commentData.tags = getTagUsersFromAnchorTags(this.commentMessageTags);\r\n    // const postComment = parentPostCommentElement.innerHTML;\r\n    // console.log(this.commentData);\r\n    if (this.isPostComment === false) {\r\n      if (this.commentData.comment || this.commentData?.file?.name) {\r\n        this.isPostComment = true;\r\n        this.commentData.postId = postId;\r\n        this.commentData.profileId = this.profileId;\r\n        if (commentId) {\r\n          this.commentData['parentCommentId'] = commentId;\r\n        }\r\n        this.addComment();\r\n        this.commentMessageInputValue = null;\r\n      } else {\r\n        this.toastService.danger('Please enter comment');\r\n      }\r\n    }\r\n  }\r\n\r\n  // viewComments(id: number): void {\r\n  //   this.isOpenCommentsPostId = id;\r\n  //   this.isCommentsLoader = true;\r\n  //   const data = {\r\n  //     postId: id,\r\n  //     profileId: this.profileId,\r\n  //   };\r\n  //   this.commonService.post(`${this.commentapiUrl}/comments/`, data).subscribe({\r\n  //     next: (res) => {\r\n  //       // console.log('comments DATA', res);\r\n  //       if (res) {\r\n  //         this.commentList = res.data.commmentsList.map((ele: any) => ({\r\n  //           ...ele,\r\n  //           replyCommnetsList: res.data.replyCommnetsList.filter((ele1) => {\r\n  //             return ele.id === ele1.parentCommentId;\r\n  //           }),\r\n  //         }));\r\n  //       }\r\n  //     },\r\n  //     error: (error) => {\r\n  //       console.log(error);\r\n  //     },\r\n  //     complete: () => {\r\n  //       this.isCommentsLoader = false;\r\n  //     },\r\n  //   });\r\n  // }\r\n\r\n  viewComments(id: number): void {\r\n    // this.isExpand = this.isOpenCommentsPostId == id ? false : true;\r\n    // this.isOpenCommentsPostId = id;\r\n    // if (!this.isExpand) {\r\n    //   this.isOpenCommentsPostId = null;\r\n    // } else {\r\n    //   this.isOpenCommentsPostId = id;\r\n    // }\r\n    // this.spinner.show();\r\n    this.isOpenCommentsPostId = id;\r\n    this.isCommentsLoader = true;\r\n    const data = {\r\n      postId: id,\r\n      profileId: this.profileId,\r\n    };\r\n    this.commonService.post(`${this.commentapiUrl}/comments/`, data).subscribe({\r\n      next: (res) => {\r\n        if (res) {\r\n          // this.spinner.hide();\r\n          // this.commentList = res.data.commmentsList.filter((ele: any) => {\r\n          //   res.data.replyCommnetsList.some((element: any) => {\r\n          //     if (ele?.id === element?.parentCommentId) {\r\n          //       ele?.replyCommnetsList.push(element);\r\n          //       return ele;\r\n          //     }\r\n          //   });\r\n          // });\r\n          this.commentList = res.data.commmentsList.map((ele: any) => ({\r\n            ...ele,\r\n            replyCommnetsList: res.data.replyCommnetsList.filter((ele1) => {\r\n              return ele.id === ele1.parentCommentId;\r\n            }),\r\n          }));\r\n          const replyCount = res.data.replyCommnetsList.filter((ele1) => {\r\n            return ele1.parentCommentId;\r\n          });\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.log(error);;\r\n      },\r\n      complete: () => {\r\n        this.isCommentsLoader = false;\r\n      },\r\n    });\r\n  }\r\n\r\n  // addComment(): void {\r\n  //   if (this.commentData?.parentCommentId) {\r\n  //     this.socketService.commentOnPost(this.commentData, (data) => {\r\n  //       this.toastService.success('replied on comment');\r\n  //       this.postComment = '';\r\n  //       this.commentData = {};\r\n\r\n  //       // childPostCommentElement.innerText = '';\r\n  //     });\r\n  //     this.socketService.socket.on('comments-on-post', (data: any) => {\r\n  //       this.isPostComment = false;\r\n  //       this.commentList.map((ele: any) =>\r\n  //         data.filter((ele1) => {\r\n  //           if (ele.id === ele1.parentCommentId) {\r\n  //             ele?.['replyCommnetsList'].push(ele1);\r\n  //             return ele;\r\n  //           }\r\n  //         })\r\n  //       );\r\n  //       this.isReply = false;\r\n  //       this.commentId = null;\r\n  //     });\r\n  //     this.viewComments(this.commentData?.postId);\r\n  //   } else {\r\n  //     this.socketService.commentOnPost(this.commentData, (data) => {\r\n  //       this.toastService.success('comment added on post');\r\n  //       this.commentData.comment = '';\r\n  //       this.commentData = {};\r\n  //       // parentPostCommentElement.innerText = '';\r\n  //     });\r\n  //     this.socketService.socket.on('comments-on-post', (data: any) => {\r\n  //       console.log('commnets data', data);\r\n  //       this.isPostComment = false;\r\n  //       // this.commentList.push(data[0]);\r\n  //       this.commentData.comment = '';\r\n  //       this.commentMessageInputValue = ''\r\n  //       setTimeout(() => {\r\n  //         this.commentMessageInputValue = ''\r\n  //       }, 100);\r\n  //       this.commentData = {};\r\n  //       this.commentData.tags = [];\r\n  //       // parentPostCommentElement.innerText = '';\r\n  //     });\r\n  //     this.viewComments(this.commentData?.postId);\r\n\r\n  //   }\r\n  // }\r\n\r\n  // addComment(): void {\r\n  //   if (this.commentData) {\r\n  //     this.socketService.commentOnPost(this.commentData, (data) => {\r\n  //       this.postComment = '';\r\n  //       this.commentData = {};\r\n  //       this.commentData.meta = {};\r\n  //       this.commentData.comment = '';\r\n  //       this.commentData.tags = [];\r\n  //       this.commentMessageTags = [];\r\n  //       // childPostCommentElement.innerText = '';\r\n  //     });\r\n  //     this.commentMessageInputValue = '';\r\n  //     setTimeout(() => {\r\n  //       this.commentMessageInputValue = '';\r\n  //     }, 100);\r\n  //     this.commentData = {};\r\n  //     this.viewComments(this.videoDetails?.id);\r\n  //   }\r\n  //   //  else {\r\n  //   //   this.socketService.commentOnPost(this.commentData, (data) => {\r\n  //   //     this.toastService.success('comment added on post');\r\n  //   //     this.commentData.comment = '';\r\n  //   //     this.commentData = {}\r\n  //   //     // parentPostCommentElement.innerText = '';\r\n  //   //     return data;\r\n  //   //   });\r\n  //   // }\r\n  // }\r\n\r\n  addComment(): void {\r\n    if (this.commentData) {\r\n      this.socketService.commentOnPost(this.commentData, (data) => {\r\n        this.postComment = '';\r\n        this.commentData = {};\r\n        this.commentData.comment = '';\r\n        this.commentData.tags = [];\r\n        this.commentMessageTags = [];\r\n        // childPostCommentElement.innerText = '';\r\n      });\r\n      this.commentMessageInputValue = '';\r\n      setTimeout(() => {\r\n        this.commentMessageInputValue = '';\r\n      }, 100);\r\n      this.commentData = {};\r\n      this.isReply = false;\r\n      this.viewComments(this.videoDetails?.id);\r\n    }\r\n    //  else {\r\n    //   this.socketService.commentOnPost(this.commentData, (data) => {\r\n    //     this.toastService.success('comment added on post');\r\n    //     this.commentData.comment = '';\r\n    //     this.commentData = {}\r\n    //     // parentPostCommentElement.innerText = '';\r\n    //     return data;\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  showReplySection(id) {\r\n    this.isReply = this.commentId == id ? false : true;\r\n    this.commentId = id;\r\n    if (!this.isReply) {\r\n      this.commentId = null;\r\n    }\r\n    this.isReplyComments = false;\r\n  }\r\n\r\n  showReplyedComments(id) {\r\n    this.isReplyComments = this.commentId == id ? false : true;\r\n    this.commentId = id;\r\n    if (!this.isReplyComments) {\r\n      this.commentId = null;\r\n    }\r\n    this.isReply = false;\r\n  }\r\n\r\n  likeComments(comment) {\r\n    comment.likeCount = comment.likeCount + 1;\r\n    comment.react = 'L';\r\n    const data = {\r\n      postId: comment.postId,\r\n      commentId: comment.id,\r\n      profileId: Number(this.profileId),\r\n      toProfileId: Number(comment.profileId),\r\n      likeCount: comment.likeCount,\r\n      actionType: 'L',\r\n    };\r\n    this.socketService.likeFeedComments(data, (res) => {\r\n      return;\r\n    });\r\n  }\r\n\r\n  disLikeComments(comment) {\r\n    comment.likeCount = comment.likeCount - 1;\r\n    comment.react = null;\r\n    const data = {\r\n      postId: comment.postId,\r\n      commentId: comment.id,\r\n      profileId: Number(this.profileId),\r\n      toProfileId: Number(comment.profileId),\r\n      likeCount: comment.likeCount,\r\n    };\r\n    this.socketService.likeFeedComments(data, (res) => {\r\n      return;\r\n    });\r\n  }\r\n\r\n  // editComment(comment): void {\r\n  //   if (comment.parentCommentId) {\r\n  //     this.renderer.setProperty(\r\n  //       this.childPostCommentElement?.nativeElement,\r\n  //       'innerHTML',\r\n  //       comment.comment\r\n  //     );\r\n  //     this.commentData['id'] = comment.id\r\n  //     if (comment.imageUrl) {\r\n  //       this.commentData['imageUrl'] = comment.imageUrl\r\n  //       this.isParent = true;\r\n  //     }\r\n  //   } else {\r\n  //     this.renderer.setProperty(\r\n  //       this.parentPostCommentElement?.nativeElement,\r\n  //       'innerHTML',\r\n  //       comment.comment\r\n  //     );\r\n  //     this.commentData['id'] = comment.id\r\n  //     if (comment.imageUrl) {\r\n  //       this.commentData['imageUrl'] = comment.imageUrl\r\n  //       this.isParent = true;\r\n  //     }\r\n  //   }\r\n  //   console.log(comment);\r\n  // }\r\n\r\n  editComment(comment): void {\r\n    if (comment.parentCommentId) {\r\n      const modalRef = this.modalService.open(ReplyCommentModalComponent, {\r\n        centered: true,\r\n      });\r\n      modalRef.componentInstance.title = 'Edit Comment';\r\n      modalRef.componentInstance.confirmButtonLabel = 'Comment';\r\n      modalRef.componentInstance.cancelButtonLabel = 'Cancel';\r\n      modalRef.componentInstance.data = comment;\r\n      modalRef.result.then((res) => {\r\n        if (res) {\r\n          // console.log('resDATA', res);\r\n          this.commentData['tags'] = res?.tags;\r\n          this.commentData.comment = res?.comment;\r\n          this.commentData.postId = res?.postId;\r\n          this.commentData.profileId = res?.profileId;\r\n          this.commentData['id'] = res?.id;\r\n          this.commentData.parentCommentId = res?.parentCommentId;\r\n          this.addComment();\r\n        }\r\n      });\r\n    } else {\r\n      this.isReply = false;\r\n      this.commentMessageInputValue = comment?.comment;\r\n      this.commentData['id'] = comment.id;\r\n      if (comment.imageUrl) {\r\n        this.commentData['imageUrl'] = comment.imageUrl;\r\n        this.isParent = true;\r\n      }\r\n    }\r\n    // console.log(comment);\r\n  }\r\n\r\n  deleteComments(comments): void {\r\n    this.commonService\r\n      .delete(`${this.commentapiUrl}/comments/${comments.id}`)\r\n      .subscribe({\r\n        next: (res: any) => {\r\n          this.toastService.success(res.message);\r\n          this.viewComments(comments.postId);\r\n        },\r\n        error: (error) => {\r\n          console.log(error);\r\n          this.toastService.danger(error.message);\r\n        },\r\n      });\r\n  }\r\n\r\n  getSearchData1(): void {\r\n    this.commonService\r\n      .get(`${this.searchApi}?searchText=${this.searchText}`)\r\n      .subscribe({\r\n        next: (res: any) => {\r\n          if (res?.data?.length > 0) {\r\n            this.userSearchList = res.data;\r\n            console.log(' this.userList', this.userSearchList);\r\n\r\n            this.userSearchNgbDropdown.open();\r\n          } else {\r\n            this.userSearchList = [];\r\n            this.userSearchNgbDropdown.close();\r\n          }\r\n        },\r\n        error: (error) => {\r\n          this.userSearchList = [];\r\n          this.userSearchNgbDropdown.close();\r\n          console.log(error);\r\n        },\r\n      });\r\n  }\r\n\r\n  getSearchData() {\r\n    const search = this.searchText;\r\n    this.commonService.post(`${this.apiUrl}/search-all`, { search }).subscribe({\r\n      next: (res: any) => {\r\n        if (res) {\r\n          this.userSearchList = res.channels;\r\n          this.userSearchNgbDropdown.open();\r\n          console.log(res);\r\n        } else {\r\n          this.userSearchList = [];\r\n          this.userSearchNgbDropdown.close();\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.userSearchList = [];\r\n        this.userSearchNgbDropdown.close();\r\n        console.log(error);\r\n      },\r\n    });\r\n  }\r\n\r\n  openProfile(Id): void {\r\n    const url = `https://tube.freedom.buzz/channel/${Id}`;\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  onTagUserInputChangeEvent(data: any): void {\r\n    this.commentData.comment = data?.html;\r\n    this.commentData.meta = data?.meta;\r\n    this.commentMessageTags = data?.tags;\r\n    console.log(this.commentData, data);\r\n  }\r\n\r\n  socketListner(): void {\r\n    this.socketService.socket.on('likeOrDislikeComments', (res) => {\r\n      console.log('likeOrDislikeComments', res);\r\n      if (res[0]) {\r\n        if (res[0].parentCommentId) {\r\n          // let index = this.commentList.findIndex(obj => obj.id === res[0].parentCommentId);\r\n          // let index1 = this.commentList.findIndex(obj => obj.replyCommnetsList.findIndex(ele => ele.id === res[0].id));\r\n          // if (index1 !== -1 && index !== -1) {\r\n          //   this.commentList[index].replyCommnetsList[index1].likeCount = res[0]?.likeCount;\r\n          // }\r\n          this.commentList.map((ele: any) =>\r\n            res.filter((ele1) => {\r\n              if (ele.id === ele1.parentCommentId) {\r\n                let index = ele?.['replyCommnetsList'].findIndex(\r\n                  (obj) => obj.id === res[0].id\r\n                );\r\n                if (index !== -1) {\r\n                  return (ele['replyCommnetsList'][index].likeCount =\r\n                    res[0]?.likeCount);\r\n                } else {\r\n                  return ele;\r\n                }\r\n              }\r\n            })\r\n          );\r\n        } else {\r\n          let index = this.commentList.findIndex((obj) => obj.id === res[0].id);\r\n          if (index !== -1) {\r\n            this.commentList[index].likeCount = res[0].likeCount;\r\n          }\r\n        }\r\n        // if (this.post.id === res[0]?.id) {\r\n        //   this.post.likescount = res[0]?.likescount;\r\n        // }\r\n      }\r\n    });\r\n\r\n    this.socketService.socket.on('comments-on-post', (data: any) => {\r\n      this.isPostComment = false;\r\n      console.log('comments-on-post', data[0]);\r\n      if (data[0]?.parentCommentId) {\r\n        this.commentList.map((ele: any) =>\r\n          data.filter((ele1) => {\r\n            if (ele.id === ele1.parentCommentId) {\r\n              let index = ele?.['replyCommnetsList'].findIndex(\r\n                (obj) => obj.id === data[0].id\r\n              );\r\n              if (!ele?.['replyCommnetsList'][index]) {\r\n                ele?.['replyCommnetsList'].push(ele1);\r\n                return ele;\r\n              } else {\r\n                return ele;\r\n              }\r\n            }\r\n          })\r\n        );\r\n      } else {\r\n        let index = this.commentList.findIndex((obj) => obj.id === data[0].id);\r\n        if (!this.commentList[index]) {\r\n          this.commentList.push(data[0]);\r\n        }\r\n        // this.viewComments(data[0]?.postId);\r\n      }\r\n    });\r\n  }\r\n\r\n  stripTags(html: string): string {\r\n    const div = document.createElement('div');\r\n    div.innerHTML = html;\r\n    return div.innerText;\r\n  }\r\n}\r\n","<div class=\"video-block-right-list section-padding\">\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-md-9\">\r\n      <div\r\n        class=\"d-xl-flex column-gap-2 column-gap-xxl-4 col-12 col-md-12 col-lg-8 m-auto px-4 mb-4 justify-content-center mb-view-left-txt c-searchbar\"\r\n      >\r\n        <div\r\n          class=\"form-inline osahan-navbar-search\"\r\n          *ngIf=\"sharedService.getCredentials()\"\r\n        >\r\n          <div class=\"input-group form-control c-input-border\">\r\n            <fa-icon [icon]=\"['fas', 'magnifying-glass']\" class=\"m-1\" />\r\n            <input\r\n              type=\"text\"\r\n              [(ngModel)]=\"searchText\"\r\n              autocomplete=\"off\"\r\n              (keyup)=\"getSearchData()\"\r\n              placeholder=\"Search for...\"\r\n            />\r\n          </div>\r\n          <ng-container *ngIf=\"searchText && userSearchList.length\">\r\n            <div class=\"col-10 pt-1 m-auto\">\r\n              <div #userSearchDropdownRef ngbDropdown class=\"c-search-dropdown\">\r\n                <div ngbDropdownMenu class=\"search-user-list w-100\">\r\n                  <ng-container *ngFor=\"let user of userSearchList\">\r\n                    <div\r\n                      ngbDropdownItem\r\n                      class=\"d-flex gap-3 pe-auto\"\r\n                      role=\"button\"\r\n                      (click)=\"openProfile(user.unique_link)\"\r\n                    >\r\n                      <img\r\n                        loading=\"lazy\"\r\n                        class=\"w-32-px h-32-px rounded\"\r\n                        data-src=\"{{ user.profile_pic_name }}\"\r\n                        [alt]=\"user.firstname\"\r\n                        onerror=\"this.onerror=null;this.src='assets/default-profile.jpg';\"\r\n                      />\r\n                      <span>{{ user?.firstname }}</span>\r\n                    </div>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </ng-container>\r\n        </div>\r\n      </div>\r\n      <div class=\"single-video\">\r\n        <!-- <div [id]=\"'video-' + videoDetails?.id\" class=\"w-100 c-height\"></div> -->\r\n        <!-- autoplay=\"autoplay\" -->\r\n        <!-- <video\r\n          id=\"playerVideo\"\r\n          class=\"w-100\"\r\n          controls\r\n          src=\"{{ videoDetails?.streamname }}\"\r\n        ></video> -->\r\n        <div\r\n          [id]=\"'jwVideo-' + videoDetails?.id\"\r\n          class=\"w-100 c-height\"\r\n          loading=\"lazy\"\r\n        ></div>\r\n      </div>\r\n      <div class=\"video-block section-padding\">\r\n        <div class=\"single-video-left\">\r\n          <div class=\"single-video-title box mb-3\">\r\n            <div class=\"d-flex justify-content-between\">\r\n              <div class=\"d-flex flex-column\">\r\n                <h2>\r\n                  <a>{{ videoDetails?.albumname }}</a>\r\n                </h2>\r\n                <p class=\"mb-0\">\r\n                  Uploaded\r\n                  <fa-icon [icon]=\"['fas', 'calendar']\" [fixedWidth]=\"true\" />\r\n                  {{ videoDetails?.postcreationdate | dateDay }}\r\n                </p>\r\n                <!-- <p class=\"mb-0\">\r\n                  <fa-icon [icon]=\"['fas', 'eye']\" [fixedWidth]=\"true\" />\r\n                  {{ videoDetails?.viewcount }} views\r\n                </p> -->\r\n              </div>\r\n              <div\r\n                class=\"d-flex align-items-center cursor\"\r\n                ngbTooltip=\"Coming Soon!\"\r\n                placement=\"bottom\"\r\n              >\r\n                <span class=\"me-1 font-20-px\">Share</span>\r\n                <fa-icon [icon]=\"['fas', 'share-alt']\" [fixedWidth]=\"true\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"single-video-author box mb-3\"\r\n            *ngIf=\"videoDetails?.unique_link\"\r\n          >\r\n            <img\r\n              class=\"img-fluid\"\r\n              loading=\"lazy\"\r\n              data-src=\"{{ videoDetails?.profile_pic_name }}\"\r\n              onerror=\"this.onerror=null;this.src='assets/default-profile.jpg';\"\r\n              alt=\"\"\r\n            />\r\n            <p class=\"d-flex align-items-center\">\r\n              <a\r\n                ><strong class=\"header-text me-2\">{{\r\n                  videoDetails.firstname\r\n                }}</strong></a\r\n              >\r\n              <span\r\n                title=\"\"\r\n                data-placement=\"top\"\r\n                data-toggle=\"tooltip\"\r\n                data-original-title=\"Verified\"\r\n              >\r\n                <fa-icon [icon]=\"['fas', 'check-circle']\" [fixedWidth]=\"true\" />\r\n              </span>\r\n            </p>\r\n            <small\r\n              >Published on\r\n              {{ videoDetails?.created | date : \"MMM dd,yyyy\" }}</small\r\n            >\r\n          </div>\r\n          <div class=\"single-video-info-content box mb-3\">\r\n            <!-- <h6>Cast:</h6>\r\n            <p>Nathan Drake , Victor Sullivan , Sam Drake , Elena Fisher</p>\r\n            <h6>Category :</h6>\r\n            <p>Gaming , PS4 Exclusive , Gameplay , 1080p</p> -->\r\n            <h6>Video Description:</h6>\r\n            <div class=\"video-description\">\r\n              <p \r\n                class=\"sub-text  c-width \"\r\n                >{{stripTags(videoDetails?.postdescription)}}</p>\r\n                <!-- [innerHTML]=\"videoDetails?.postdescription | noSanitize\" -->\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Comments Section -->\r\n          <div class=\"box mb-3 single-video-comment-tabs\">\r\n            <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n              <li class=\"nav-item\">\r\n                <a class=\"nav-link active\" id=\"retro-comments-tab\"\r\n                  >video Comments</a\r\n                >\r\n                <!-- (click)=\"viewComments(videoDetails.id)\" -->\r\n              </li>\r\n            </ul>\r\n            <div class=\"tab-content\">\r\n              <div\r\n                class=\"tab-pane fade show active\"\r\n                id=\"retro-comments\"\r\n                role=\"tabpanel\"\r\n                aria-labelledby=\"retro-comments-tab\"\r\n              >\r\n                <div class=\"reviews-members pt-0\">\r\n                  <div class=\"media\" *ngIf=\"sharedService.getCredentials()\">\r\n                    <a\r\n                      ><img\r\n                        class=\"me-3\"\r\n                        loading=\"lazy\"\r\n                        data-src=\"{{\r\n                          authService?.userDetails?.ProfilePicName\r\n                        }}\"\r\n                        onerror=\"this.onerror=null;this.src='/assets/dummy/11.jpg';\"\r\n                        alt=\"icon\"\r\n                    /></a>\r\n\r\n                    <div class=\"media-body gap-2 align-items-center\">\r\n                      <ng-container *ngIf=\"isParent && commentData?.imageUrl\">\r\n                        <div class=\"position-relative w-52-px h-52-px mb-2\">\r\n                          <img\r\n                            loading=\"lazy\"\r\n                            data-src=\"\"\r\n                            class=\"w-100 h-100 rounded-4\"\r\n                            data-src=\"{{ commentData?.imageUrl }}\"\r\n                            onerror=\"this.onerror=null;this.src='/assets/dummy/11.jpg';\"\r\n                            alt=\"icon\"\r\n                          />\r\n                          <fa-icon\r\n                            [icon]=\"['fas', 'xmark']\"\r\n                            class=\"position-absolute top-0 start-100 translate-middle badge bg-danger p-1 font-12-px c-pointer text-white\"\r\n                            (click)=\"removePostSelectedFile()\"\r\n                          />\r\n                        </div>\r\n                      </ng-container>\r\n                      <div class=\"d-flex align-items-center form-members-body\">\r\n                        <!-- <div\r\n                          #parentPostCommentElement\r\n                          contenteditable\r\n                          placeholder=\"Add a comment...\"\r\n                          class=\"w-100 comment-input c-text\"\r\n                        ></div> -->\r\n                        <app-tag-user-input\r\n                          placeholder=\"\"\r\n                          [value]=\"commentMessageInputValue\"\r\n                          [isShowMetaPreview]=\"true\"\r\n                          (onDataChange)=\"onTagUserInputChangeEvent($event)\"\r\n                        />\r\n                        <!-- <label class=\"file\">\r\n                          <input\r\n                            type=\"file\"\r\n                            class=\"d-none\"\r\n                            accept=\"image/*\"\r\n                            #uploadVideo\r\n                            (change)=\"onPostFileSelect($event, 'parent')\"\r\n                          />\r\n                          <span\r\n                            class=\"file-custom border-0 d-grid text-center\"\r\n                            role=\"button\"\r\n                          >\r\n                            <fa-icon\r\n                              [icon]=\"['fas', 'image']\"\r\n                              class=\"font-20-px text-primary\"\r\n                            />\r\n                          </span>\r\n                        </label> -->\r\n                        <span\r\n                          class=\"file-input mx-2 mx-sm-3 gap-1 gap-md-2 cursor\"\r\n                        >\r\n                          <fa-icon\r\n                            [icon]=\"['fas', 'paper-plane']\"\r\n                            class=\"font-20-px text-primary\"\r\n                            role=\"button\"\r\n                            (click)=\"commentOnPost(videoDetails.id)\"\r\n                          />\r\n                        </span>\r\n                      </div>\r\n                      <div class=\"form-members-footer mt-2\">\r\n                        <!-- <b class=\"float-left\">12,725 Comments</b> -->\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- usercomments -->\r\n                <ng-container *ngFor=\"let comment of commentList\">\r\n                  <div class=\"reviews-members\">\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        profileId === comment?.profileId &&\r\n                        sharedService.getCredentials()\r\n                      \"\r\n                    >\r\n                      <div class=\"float-end\">\r\n                        <div ngbDropdown class=\"c-dropdown\">\r\n                          <fa-icon\r\n                            [icon]=\"['fas', 'ellipsis']\"\r\n                            class=\"font-20-px m-0\"\r\n                            role=\"button\"\r\n                            ngbDropdownToggle\r\n                          />\r\n\r\n                          <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                            <button ngbDropdownItem>\r\n                              <a\r\n                                class=\"droplist d-flex align-items-center gap-2\"\r\n                                (click)=\"editComment(comment)\"\r\n                              >\r\n                                <fa-icon [icon]=\"['fas', 'pen-to-square']\" />\r\n                                <span>Edit</span>\r\n                              </a>\r\n                            </button>\r\n                            <button ngbDropdownItem>\r\n                              <a\r\n                                class=\"droplist d-flex align-items-center gap-2\"\r\n                                (click)=\"deleteComments(comment)\"\r\n                              >\r\n                                <fa-icon [icon]=\"['fas', 'trash-can']\" />\r\n                                <span>Delete</span>\r\n                              </a>\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </ng-container>\r\n                    <div class=\"media\">\r\n                      <a\r\n                        ><img\r\n                          class=\"me-3\"\r\n                          data-src=\"{{ comment?.ProfilePicName }}\"\r\n                          onerror=\"this.onerror=null;this.src='assets/default-profile.jpg';\"\r\n                          alt=\"icon\"\r\n                      /></a>\r\n                      <div class=\"media-body\">\r\n                        <div class=\"reviews-members-header\">\r\n                          <h6 class=\"mb-1\">\r\n                            <a class=\"text-black\">{{ comment?.Username }} </a>\r\n                            <!-- <small class=\"text-gray\">2 months ago</small> -->\r\n                          </h6>\r\n                        </div>\r\n                        <ng-container *ngIf=\"comment?.comment\">\r\n                          <p\r\n                            class=\"reviews-members-body\"\r\n                            [innerHTML]=\"comment?.comment | noSanitize\"\r\n                          ></p>\r\n                        </ng-container>\r\n                        <app-post-meta-data-card [post]=\"comment\" />\r\n                        <div\r\n                          class=\"reviews-members-footer d-flex align-items-center\"\r\n                        >\r\n                          <button\r\n                            class=\"total-like me-2 cursor\"\r\n                            (click)=\"\r\n                              comment.react == 'L'\r\n                                ? disLikeComments(comment)\r\n                                : likeComments(comment)\r\n                            \"\r\n                            [disabled]=\"!sharedService.getCredentials()\"\r\n                          >\r\n                            <fa-icon\r\n                              [icon]=\"['fas', 'thumbs-up']\"\r\n                              [fixedWidth]=\"true\"\r\n                            />\r\n                            {{\r\n                              comment?.likeCount > 0 ? comment?.likeCount : 0\r\n                            }}&nbsp;Likes\r\n                          </button>\r\n                          <button\r\n                            class=\"total-like cursor\"\r\n                            [disabled]=\"!sharedService.getCredentials()\"\r\n                            (click)=\"showReplySection(comment?.id)\"\r\n                          >\r\n                            <fa-icon\r\n                              [icon]=\"['fas', 'message']\"\r\n                              [fixedWidth]=\"true\"\r\n                              type=\"button\"\r\n                            />\r\n                            Reply\r\n                          </button>\r\n                          <!-- <a\r\n                            *ngIf=\"comment?.replyCommnetsList?.length\"\r\n                            class=\"ms-3 cursor\"\r\n                            (click)=\"showReplyedComments(comment?.id)\"\r\n                            >See reply\r\n                          </a> -->\r\n                        </div>\r\n                        <!-- replay comment -->\r\n                        <ng-container\r\n                          *ngIf=\"\r\n                            isReply &&\r\n                            videoDetails.id === comment?.postId &&\r\n                            commentId === comment?.id\r\n                          \"\r\n                        >\r\n                          <div\r\n                            class=\"media-body ps-5 gap-2 align-items-center pt-4\"\r\n                          >\r\n                            <div\r\n                              class=\"d-flex align-items-center form-members-body\"\r\n                            >\r\n                              <!-- <div\r\n                                #childPostCommentElement\r\n                                contenteditable\r\n                                placeholder=\"Add a comment...\"\r\n                                class=\"w-100 comment-input c-text\"\r\n                              ></div> -->\r\n                              <app-tag-user-input\r\n                                placeholder=\"Write something to reply..\"\r\n                                [value]=\"commentMessageInputValue\"\r\n                                (onDataChange)=\"\r\n                                  onTagUserInputChangeEvent($event)\r\n                                \"\r\n                              />\r\n                              <span\r\n                                class=\"file-input mx-2 mx-sm-3 gap-1 gap-md-2 cursor\"\r\n                              >\r\n                                <fa-icon\r\n                                  [icon]=\"['fas', 'paper-plane']\"\r\n                                  class=\"font-20-px text-primary\"\r\n                                  role=\"button\"\r\n                                  (click)=\"\r\n                                    commentOnPost(videoDetails.id, comment.id)\r\n                                  \"\r\n                                />\r\n                              </span>\r\n                            </div>\r\n                            <div class=\"form-members-footer mt-2\"></div>\r\n                          </div>\r\n                        </ng-container>\r\n                        <!-- sub comments -->\r\n                        <!-- *ngIf=\"isReplyComments && commentId === comment.id\" -->\r\n                        <ng-container>\r\n                          <ng-container\r\n                            *ngFor=\"let reply of comment?.replyCommnetsList\"\r\n                          >\r\n                            <div class=\"ms-5\">\r\n                              <div class=\"d-flex mx-sm-5 mt-2 mt-sm-4 top-area\">\r\n                                <a\r\n                                  ><img\r\n                                    class=\"me-3\"\r\n                                    loading=\"lazy\"\r\n                                    data-src=\"{{ reply?.ProfilePicName }}\"\r\n                                    onerror=\"this.onerror=null;this.src='assets/default-profile.jpg';\"\r\n                                    alt=\"icon\"\r\n                                /></a>\r\n                                <div class=\"media-body\">\r\n                                  <ng-container\r\n                                    *ngIf=\"\r\n                                      profileId === reply.profileId &&\r\n                                      sharedService.getCredentials()\r\n                                    \"\r\n                                  >\r\n                                    <div class=\"float-end\">\r\n                                      <div ngbDropdown class=\"c-dropdown\">\r\n                                        <fa-icon\r\n                                          [icon]=\"['fas', 'ellipsis']\"\r\n                                          class=\"font-20-px m-0\"\r\n                                          role=\"button\"\r\n                                          ngbDropdownToggle\r\n                                        />\r\n\r\n                                        <div\r\n                                          ngbDropdownMenu\r\n                                          class=\"dropdown-menu\"\r\n                                        >\r\n                                          <button ngbDropdownItem>\r\n                                            <a\r\n                                              class=\"droplist d-flex align-items-center gap-2\"\r\n                                              (click)=\"editComment(reply)\"\r\n                                            >\r\n                                              <fa-icon\r\n                                                [icon]=\"[\r\n                                                  'fas',\r\n                                                  'pen-to-square'\r\n                                                ]\"\r\n                                              />\r\n                                              <span>Edit</span>\r\n                                            </a>\r\n                                          </button>\r\n                                          <button ngbDropdownItem>\r\n                                            <a\r\n                                              class=\"droplist d-flex align-items-center gap-2\"\r\n                                              (click)=\"deleteComments(reply)\"\r\n                                            >\r\n                                              <fa-icon\r\n                                                [icon]=\"['fas', 'trash-can']\"\r\n                                              />\r\n                                              <span>Delete</span>\r\n                                            </a>\r\n                                          </button>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </ng-container>\r\n                                  <div class=\"reviews-members-header\">\r\n                                    <h6 class=\"mb-1\">\r\n                                      <a class=\"text-black\"\r\n                                        >{{ reply?.Username }}\r\n                                      </a>\r\n                                      <!-- <small class=\"text-gray\">2 months ago</small> -->\r\n                                    </h6>\r\n                                  </div>\r\n                                  <ng-container *ngIf=\"reply?.comment\">\r\n                                    <p\r\n                                      class=\"reviews-members-body\"\r\n                                      [innerHTML]=\"reply?.comment | noSanitize\"\r\n                                    ></p>\r\n                                  </ng-container>\r\n                                  <app-post-meta-data-card [post]=\"reply\" />\r\n                                  <div class=\"reviews-members-footer\">\r\n                                    <!-- <a class=\"total-like\" -->\r\n                                    <button\r\n                                      class=\"total-like text-primary cursor\"\r\n                                      [disabled]=\"\r\n                                        !sharedService.getCredentials()\r\n                                      \"\r\n                                      (click)=\"\r\n                                        reply.react == 'L'\r\n                                          ? disLikeComments(reply)\r\n                                          : likeComments(reply)\r\n                                      \"\r\n                                    >\r\n                                      <fa-icon\r\n                                        [icon]=\"['fas', 'thumbs-up']\"\r\n                                        [fixedWidth]=\"true\"\r\n                                      />\r\n                                      {{\r\n                                        reply?.likeCount > 0\r\n                                          ? reply?.likeCount\r\n                                          : 0\r\n                                      }}&nbsp;Likes\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </ng-container>\r\n                        </ng-container>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-3\">\r\n      <div\r\n        class=\"video-slider-right-list\"\r\n        *ngIf=\"sharedService?.getCredentials()  else noCredentials\"\r\n      >\r\n        <app-video-slider-list [videoList]=\"videoList\" />\r\n        <div\r\n          class=\"d-flex flex-column text-center justify-content-center mb-2\"\r\n          *ngIf=\"!hasMoreData\"\r\n        >\r\n          <fa-icon\r\n            [icon]=\"['fas', 'rotate-right']\"\r\n            [fixedWidth]=\"true\"\r\n            class=\"font-28-px cursor\"\r\n            (click)=\"loadMore()\"\r\n          />\r\n          load more\r\n          <!-- <button class=\"btn btn-outline-primary\" (click)=\"loadMore()\">\r\n            Load More\r\n          </button> -->\r\n        </div>\r\n      </div>\r\n      <ng-template #noCredentials>\r\n        <div\r\n          class=\"right-sidebar profile-sidebar cus-scrollbar d-flex flex-column w-400-px shadow\"\r\n        >\r\n          <div class=\"dashboard-img mb-5 mt-2\">\r\n            <img\r\n              class=\"w-100 rounded-3\"\r\n              src=\"/assets/img/freedom-dashboard.png\"\r\n            />\r\n            <span class=\"mt-3 text-start font-16-px\">\r\n              Get paid 1 1776 Token to Post, Reactions, Share and View and Refer\r\n              family and friends to Freedom!\r\n            </span>\r\n          </div>\r\n          <div class=\"w-100 d-grid\">\r\n            <a href=\"https://freedom.buzz/login\">\r\n              <button class=\"btn btn-success w-100 mb-2\">Login</button>\r\n            </a>\r\n            <a href=\"https://freedom.buzz/register\">\r\n              <button class=\"btn btn-primary w-100\">Sign up</button>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- <div class=\"video-block section-padding\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-8\"></div>\r\n  </div>\r\n</div> -->\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { VideoRoutingModule } from './video-routing.module';\r\nimport { SharedModule } from 'src/app/@shared/shared.module';\r\nimport { VideoComponent } from './video.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    VideoComponent,\r\n  ],\r\n  imports: [\r\n    VideoRoutingModule,\r\n    SharedModule,\r\n  ]\r\n})\r\nexport class VideoModule { }\r\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data, true);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf, false);\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n'use strict';\n\nconst net = require('net');\nconst tls = require('tls');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER } = require('./constants');\nconst { isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        randomFillSync(mask, 0, 4);\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        [kByteLength]: byteLength,\n        fin: options.fin,\n        generateMask: this._generateMask,\n        mask: options.mask,\n        maskBuffer: this._maskBuffer,\n        opcode,\n        readOnly,\n        rsv1\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n      } else {\n        this.dispatch(data, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(data, {\n          [kByteLength]: byteLength,\n          fin: options.fin,\n          generateMask: this._generateMask,\n          mask: options.mask,\n          maskBuffer: this._maskBuffer,\n          opcode,\n          readOnly,\n          rsv1: false\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const params = this._queue[i];\n          const callback = params[params.length - 1];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst https = require('https');\nconst net = require('net');\nconst tls = require('tls');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!key || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    this._sender = new Sender(socket, this._extensions, options.generateMask);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n\n    websocket._url = address;\n  }\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  req.end();\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","/**\n * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.\n *\n * This can be used with JS designed for browsers to improve reuse of code and\n * allow the use of existing libraries.\n *\n * Usage: include(\"XMLHttpRequest.js\") and use XMLHttpRequest per W3C specs.\n *\n * @author Dan DeFelippi <dan@driverdan.com>\n * @contributor David Ellis <d.f.ellis@ieee.org>\n * @license MIT\n */\n\nvar fs = require('fs');\nvar Url = require('url');\nvar spawn = require('child_process').spawn;\n\n/**\n * Module exports.\n */\n\nmodule.exports = XMLHttpRequest;\n\n// backwards-compat\nXMLHttpRequest.XMLHttpRequest = XMLHttpRequest;\n\n/**\n * `XMLHttpRequest` constructor.\n *\n * Supported options for the `opts` object are:\n *\n *  - `agent`: An http.Agent instance; http.globalAgent may be used; if 'undefined', agent usage is disabled\n *\n * @param {Object} opts optional \"options\" object\n */\n\nfunction XMLHttpRequest(opts) {\n  \"use strict\";\n\n  opts = opts || {};\n\n  /**\n   * Private variables\n   */\n  var self = this;\n  var http = require('http');\n  var https = require('https');\n\n  // Holds http.js objects\n  var request;\n  var response;\n\n  // Request settings\n  var settings = {};\n\n  // Disable header blacklist.\n  // Not part of XHR specs.\n  var disableHeaderCheck = false;\n\n  // Set some default headers\n  var defaultHeaders = {\n    \"User-Agent\": \"node-XMLHttpRequest\",\n    \"Accept\": \"*/*\"\n  };\n\n  var headers = Object.assign({}, defaultHeaders);\n\n  // These headers are not user setable.\n  // The following are allowed but banned in the spec:\n  // * user-agent\n  var forbiddenRequestHeaders = [\n    \"accept-charset\",\n    \"accept-encoding\",\n    \"access-control-request-headers\",\n    \"access-control-request-method\",\n    \"connection\",\n    \"content-length\",\n    \"content-transfer-encoding\",\n    \"cookie\",\n    \"cookie2\",\n    \"date\",\n    \"expect\",\n    \"host\",\n    \"keep-alive\",\n    \"origin\",\n    \"referer\",\n    \"te\",\n    \"trailer\",\n    \"transfer-encoding\",\n    \"upgrade\",\n    \"via\"\n  ];\n\n  // These request methods are not allowed\n  var forbiddenRequestMethods = [\n    \"TRACE\",\n    \"TRACK\",\n    \"CONNECT\"\n  ];\n\n  // Send flag\n  var sendFlag = false;\n  // Error flag, used when errors occur or abort is called\n  var errorFlag = false;\n  var abortedFlag = false;\n\n  // Event listeners\n  var listeners = {};\n\n  /**\n   * Constants\n   */\n\n  this.UNSENT = 0;\n  this.OPENED = 1;\n  this.HEADERS_RECEIVED = 2;\n  this.LOADING = 3;\n  this.DONE = 4;\n\n  /**\n   * Public vars\n   */\n\n  // Current state\n  this.readyState = this.UNSENT;\n\n  // default ready state change handler in case one is not set or is set late\n  this.onreadystatechange = null;\n\n  // Result & response\n  this.responseText = \"\";\n  this.responseXML = \"\";\n  this.status = null;\n  this.statusText = null;\n\n  /**\n   * Private methods\n   */\n\n  /**\n   * Check if the specified header is allowed.\n   *\n   * @param string header Header to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpHeader = function(header) {\n    return disableHeaderCheck || (header && forbiddenRequestHeaders.indexOf(header.toLowerCase()) === -1);\n  };\n\n  /**\n   * Check if the specified method is allowed.\n   *\n   * @param string method Request method to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpMethod = function(method) {\n    return (method && forbiddenRequestMethods.indexOf(method) === -1);\n  };\n\n  /**\n   * Public methods\n   */\n\n  /**\n   * Open the connection. Currently supports local server requests.\n   *\n   * @param string method Connection method (eg GET, POST)\n   * @param string url URL for the connection.\n   * @param boolean async Asynchronous connection. Default is true.\n   * @param string user Username for basic authentication (optional)\n   * @param string password Password for basic authentication (optional)\n   */\n  this.open = function(method, url, async, user, password) {\n    this.abort();\n    errorFlag = false;\n    abortedFlag = false;\n\n    // Check for valid request method\n    if (!isAllowedHttpMethod(method)) {\n      throw new Error(\"SecurityError: Request method not allowed\");\n    }\n\n    settings = {\n      \"method\": method,\n      \"url\": url.toString(),\n      \"async\": (typeof async !== \"boolean\" ? true : async),\n      \"user\": user || null,\n      \"password\": password || null\n    };\n\n    setState(this.OPENED);\n  };\n\n  /**\n   * Disables or enables isAllowedHttpHeader() check the request. Enabled by default.\n   * This does not conform to the W3C spec.\n   *\n   * @param boolean state Enable or disable header checking.\n   */\n  this.setDisableHeaderCheck = function(state) {\n    disableHeaderCheck = state;\n  };\n\n  /**\n   * Sets a header for the request.\n   *\n   * @param string header Header name\n   * @param string value Header value\n   * @return boolean Header added\n   */\n  this.setRequestHeader = function(header, value) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN\");\n    }\n    if (!isAllowedHttpHeader(header)) {\n      console.warn('Refused to set unsafe header \"' + header + '\"');\n      return false;\n    }\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send flag is true\");\n    }\n    headers[header] = value;\n    return true;\n  };\n\n  /**\n   * Gets a header from the server response.\n   *\n   * @param string header Name of header to get.\n   * @return string Text of the header or null if it doesn't exist.\n   */\n  this.getResponseHeader = function(header) {\n    if (typeof header === \"string\"\n      && this.readyState > this.OPENED\n      && response.headers[header.toLowerCase()]\n      && !errorFlag\n    ) {\n      return response.headers[header.toLowerCase()];\n    }\n\n    return null;\n  };\n\n  /**\n   * Gets all the response headers.\n   *\n   * @return string A string with all response headers separated by CR+LF\n   */\n  this.getAllResponseHeaders = function() {\n    if (this.readyState < this.HEADERS_RECEIVED || errorFlag) {\n      return \"\";\n    }\n    var result = \"\";\n\n    for (var i in response.headers) {\n      // Cookie headers are excluded\n      if (i !== \"set-cookie\" && i !== \"set-cookie2\") {\n        result += i + \": \" + response.headers[i] + \"\\r\\n\";\n      }\n    }\n    return result.substr(0, result.length - 2);\n  };\n\n  /**\n   * Gets a request header\n   *\n   * @param string name Name of header to get\n   * @return string Returns the request header or empty string if not set\n   */\n  this.getRequestHeader = function(name) {\n    // @TODO Make this case insensitive\n    if (typeof name === \"string\" && headers[name]) {\n      return headers[name];\n    }\n\n    return \"\";\n  };\n\n  /**\n   * Sends the request to the server.\n   *\n   * @param string data Optional data to send as request body.\n   */\n  this.send = function(data) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: connection must be opened before send() is called\");\n    }\n\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send has already been called\");\n    }\n\n    var ssl = false, local = false;\n    var url = Url.parse(settings.url);\n    var host;\n    // Determine the server\n    switch (url.protocol) {\n      case 'https:':\n        ssl = true;\n        // SSL & non-SSL both need host, no break here.\n      case 'http:':\n        host = url.hostname;\n        break;\n\n      case 'file:':\n        local = true;\n        break;\n\n      case undefined:\n      case '':\n        host = \"localhost\";\n        break;\n\n      default:\n        throw new Error(\"Protocol not supported.\");\n    }\n\n    // Load files off the local filesystem (file://)\n    if (local) {\n      if (settings.method !== \"GET\") {\n        throw new Error(\"XMLHttpRequest: Only GET method is supported\");\n      }\n\n      if (settings.async) {\n        fs.readFile(unescape(url.pathname), 'utf8', function(error, data) {\n          if (error) {\n            self.handleError(error, error.errno || -1);\n          } else {\n            self.status = 200;\n            self.responseText = data;\n            setState(self.DONE);\n          }\n        });\n      } else {\n        try {\n          this.responseText = fs.readFileSync(unescape(url.pathname), 'utf8');\n          this.status = 200;\n          setState(self.DONE);\n        } catch(e) {\n          this.handleError(e, e.errno || -1);\n        }\n      }\n\n      return;\n    }\n\n    // Default to port 80. If accessing localhost on another port be sure\n    // to use http://localhost:port/path\n    var port = url.port || (ssl ? 443 : 80);\n    // Add query string if one is used\n    var uri = url.pathname + (url.search ? url.search : '');\n\n    // Set the Host header or the server may reject the request\n    headers[\"Host\"] = host;\n    if (!((ssl && port === 443) || port === 80)) {\n      headers[\"Host\"] += ':' + url.port;\n    }\n\n    // Set Basic Auth if necessary\n    if (settings.user) {\n      if (typeof settings.password == \"undefined\") {\n        settings.password = \"\";\n      }\n      var authBuf = new Buffer(settings.user + \":\" + settings.password);\n      headers[\"Authorization\"] = \"Basic \" + authBuf.toString(\"base64\");\n    }\n\n    // Set content length header\n    if (settings.method === \"GET\" || settings.method === \"HEAD\") {\n      data = null;\n    } else if (data) {\n      headers[\"Content-Length\"] = Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data);\n\n      if (!headers[\"Content-Type\"]) {\n        headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n      }\n    } else if (settings.method === \"POST\") {\n      // For a post with no data set Content-Length: 0.\n      // This is required by buggy servers that don't meet the specs.\n      headers[\"Content-Length\"] = 0;\n    }\n\n    var agent = opts.agent || false;\n    var options = {\n      host: host,\n      port: port,\n      path: uri,\n      method: settings.method,\n      headers: headers,\n      agent: agent\n    };\n\n    if (ssl) {\n      options.pfx = opts.pfx;\n      options.key = opts.key;\n      options.passphrase = opts.passphrase;\n      options.cert = opts.cert;\n      options.ca = opts.ca;\n      options.ciphers = opts.ciphers;\n      options.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n    }\n\n    // Reset error flag\n    errorFlag = false;\n    // Handle async requests\n    if (settings.async) {\n      // Use the proper protocol\n      var doRequest = ssl ? https.request : http.request;\n\n      // Request is being sent, set send flag\n      sendFlag = true;\n\n      // As per spec, this is called here for historical reasons.\n      self.dispatchEvent(\"readystatechange\");\n\n      // Handler for the response\n      var responseHandler = function(resp) {\n        // Set response var to the response we got back\n        // This is so it remains accessable outside this scope\n        response = resp;\n        // Check for redirect\n        // @TODO Prevent looped redirects\n        if (response.statusCode === 302 || response.statusCode === 303 || response.statusCode === 307) {\n          // Change URL to the redirect location\n          settings.url = response.headers.location;\n          var url = Url.parse(settings.url);\n          // Set host var in case it's used later\n          host = url.hostname;\n          // Options for the new request\n          var newOptions = {\n            hostname: url.hostname,\n            port: url.port,\n            path: url.path,\n            method: response.statusCode === 303 ? 'GET' : settings.method,\n            headers: headers\n          };\n\n          if (ssl) {\n            newOptions.pfx = opts.pfx;\n            newOptions.key = opts.key;\n            newOptions.passphrase = opts.passphrase;\n            newOptions.cert = opts.cert;\n            newOptions.ca = opts.ca;\n            newOptions.ciphers = opts.ciphers;\n            newOptions.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n          }\n\n          // Issue the new request\n          request = doRequest(newOptions, responseHandler).on('error', errorHandler);\n          request.end();\n          // @TODO Check if an XHR event needs to be fired here\n          return;\n        }\n\n        if (response && response.setEncoding) {\n          response.setEncoding(\"utf8\");\n        }\n\n        setState(self.HEADERS_RECEIVED);\n        self.status = response.statusCode;\n\n        response.on('data', function(chunk) {\n          // Make sure there's some data\n          if (chunk) {\n            self.responseText += chunk;\n          }\n          // Don't emit state changes if the connection has been aborted.\n          if (sendFlag) {\n            setState(self.LOADING);\n          }\n        });\n\n        response.on('end', function() {\n          if (sendFlag) {\n            // The sendFlag needs to be set before setState is called.  Otherwise if we are chaining callbacks\n            // there can be a timing issue (the callback is called and a new call is made before the flag is reset).\n            sendFlag = false;\n            // Discard the 'end' event if the connection has been aborted\n            setState(self.DONE);\n          }\n        });\n\n        response.on('error', function(error) {\n          self.handleError(error);\n        });\n      }\n\n      // Error handler for the request\n      var errorHandler = function(error) {\n        self.handleError(error);\n      }\n\n      // Create the request\n      request = doRequest(options, responseHandler).on('error', errorHandler);\n\n      if (opts.autoUnref) {\n        request.on('socket', (socket) => {\n          socket.unref();\n        });\n      }\n\n      // Node 0.4 and later won't accept empty data. Make sure it's needed.\n      if (data) {\n        request.write(data);\n      }\n\n      request.end();\n\n      self.dispatchEvent(\"loadstart\");\n    } else { // Synchronous\n      // Create a temporary file for communication with the other Node process\n      var contentFile = \".node-xmlhttprequest-content-\" + process.pid;\n      var syncFile = \".node-xmlhttprequest-sync-\" + process.pid;\n      fs.writeFileSync(syncFile, \"\", \"utf8\");\n      // The async request the other Node process executes\n      var execString = \"var http = require('http'), https = require('https'), fs = require('fs');\"\n        + \"var doRequest = http\" + (ssl ? \"s\" : \"\") + \".request;\"\n        + \"var options = \" + JSON.stringify(options) + \";\"\n        + \"var responseText = '';\"\n        + \"var req = doRequest(options, function(response) {\"\n        + \"response.setEncoding('utf8');\"\n        + \"response.on('data', function(chunk) {\"\n        + \"  responseText += chunk;\"\n        + \"});\"\n        + \"response.on('end', function() {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"response.on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"}).on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + (data ? \"req.write('\" + JSON.stringify(data).slice(1,-1).replace(/'/g, \"\\\\'\") + \"');\":\"\")\n        + \"req.end();\";\n      // Start the other Node Process, executing this string\n      var syncProc = spawn(process.argv[0], [\"-e\", execString]);\n      var statusText;\n      while(fs.existsSync(syncFile)) {\n        // Wait while the sync file is empty\n      }\n      self.responseText = fs.readFileSync(contentFile, 'utf8');\n      // Kill the child process once the file has data\n      syncProc.stdin.end();\n      // Remove the temporary file\n      fs.unlinkSync(contentFile);\n      if (self.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)) {\n        // If the file returned an error, handle it\n        var errorObj = self.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/, \"\");\n        self.handleError(errorObj, 503);\n      } else {\n        // If the file returned okay, parse its data and move to the DONE state\n        self.status = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/, \"$1\");\n        self.responseText = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/, \"$1\");\n        setState(self.DONE);\n      }\n    }\n  };\n\n  /**\n   * Called when an error is encountered to deal with it.\n   * @param  status  {number}    HTTP status code to use rather than the default (0) for XHR errors.\n   */\n  this.handleError = function(error, status) {\n    this.status = status || 0;\n    this.statusText = error;\n    this.responseText = error.stack;\n    errorFlag = true;\n    setState(this.DONE);\n  };\n\n  /**\n   * Aborts a request.\n   */\n  this.abort = function() {\n    if (request) {\n      request.abort();\n      request = null;\n    }\n\n    headers = Object.assign({}, defaultHeaders);\n    this.responseText = \"\";\n    this.responseXML = \"\";\n\n    errorFlag = abortedFlag = true\n    if (this.readyState !== this.UNSENT\n        && (this.readyState !== this.OPENED || sendFlag)\n        && this.readyState !== this.DONE) {\n      sendFlag = false;\n      setState(this.DONE);\n    }\n    this.readyState = this.UNSENT;\n  };\n\n  /**\n   * Adds an event listener. Preferred method of binding to events.\n   */\n  this.addEventListener = function(event, callback) {\n    if (!(event in listeners)) {\n      listeners[event] = [];\n    }\n    // Currently allows duplicate callbacks. Should it?\n    listeners[event].push(callback);\n  };\n\n  /**\n   * Remove an event callback that has already been bound.\n   * Only works on the matching funciton, cannot be a copy.\n   */\n  this.removeEventListener = function(event, callback) {\n    if (event in listeners) {\n      // Filter will return a new array with the callback removed\n      listeners[event] = listeners[event].filter(function(ev) {\n        return ev !== callback;\n      });\n    }\n  };\n\n  /**\n   * Dispatch any events, including both \"on\" methods and events attached using addEventListener.\n   */\n  this.dispatchEvent = function(event) {\n    if (typeof self[\"on\" + event] === \"function\") {\n      if (this.readyState === this.DONE)\n        setImmediate(function() { self[\"on\" + event]() })\n      else\n        self[\"on\" + event]()\n    }\n    if (event in listeners) {\n      for (let i = 0, len = listeners[event].length; i < len; i++) {\n        if (this.readyState === this.DONE)\n          setImmediate(function() { listeners[event][i].call(self) })\n        else\n          listeners[event][i].call(self)\n      }\n    }\n  };\n\n  /**\n   * Changes readyState and calls onreadystatechange.\n   *\n   * @param int state New state\n   */\n  var setState = function(state) {\n    if ((self.readyState === state) || (self.readyState === self.UNSENT && abortedFlag))\n      return\n\n    self.readyState = state;\n\n    if (settings.async || self.readyState < self.OPENED || self.readyState === self.DONE) {\n      self.dispatchEvent(\"readystatechange\");\n    }\n\n    if (self.readyState === self.DONE) {\n      let fire\n\n      if (abortedFlag)\n        fire = \"abort\"\n      else if (errorFlag)\n        fire = \"error\"\n      else\n        fire = \"load\"\n\n      self.dispatchEvent(fire)\n\n      // @TODO figure out InspectorInstrumentation::didLoadXHR(cookie)\n      self.dispatchEvent(\"loadend\");\n    }\n  };\n};\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 2000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","export const globalThisShim = global;\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport, TransportError } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\nexport { nextTick } from \"./transports/websocket-constructor.js\";\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport debugModule from \"debug\"; // debug()\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { defaultBinaryType } from \"./transports/websocket-constructor.js\";\nconst debug = debugModule(\"engine.io-client:socket\"); // debug()\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        debug('creating transport \"%s\"', name);\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        debug(\"options: %j\", opts);\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            debug(\"error while creating transport: %s\", e);\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        debug(\"setting transport %s\", transport.name);\n        if (this.transport) {\n            debug(\"clearing existing transport %s\", this.transport.name);\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        debug('probing transport \"%s\"', name);\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            debug('probe transport \"%s\" opened', name);\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    debug('probe transport \"%s\" pong', name);\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    debug('pausing current transport \"%s\"', this.transport.name);\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        debug(\"changing transport and sending upgrade packet\");\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    debug('probe transport \"%s\" failed', name);\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            debug('probe transport \"%s\" failed because of error: %s', name, err);\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        debug(\"socket open\");\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            debug(\"starting upgrade probes\");\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            this.resetPingTimeout();\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n            debug('packet received with socket readyState \"%s\"', this.readyState);\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            debug(\"flushing %d packets in socket\", packets.length);\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                debug(\"only send %d out of %d packets\", i, this.writeBuffer.length);\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        debug(\"payload size is %d (max: %d)\", payloadSize, this.maxPayload);\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            debug(\"socket closing - telling transport to close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        debug(\"socket error %j\", err);\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket close with reason: \"%s\"', reason);\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport debugModule from \"debug\"; // debug()\nimport { encode } from \"./contrib/parseqs.js\";\nconst debug = debugModule(\"engine.io-client:transport\"); // debug()\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n            debug(\"transport is not open, discarding packets\");\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: Polling,\n};\n","import { Transport } from \"../transport.js\";\nimport debugModule from \"debug\"; // debug()\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { createCookieJar, XHR as XMLHttpRequest, } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nconst debug = debugModule(\"engine.io-client:polling\"); // debug()\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = createCookieJar();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            debug(\"paused\");\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                debug(\"we are currently polling - waiting to pause\");\n                total++;\n                this.once(\"pollComplete\", function () {\n                    debug(\"pre-pause polling complete\");\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                debug(\"we are currently writing - waiting to pause\");\n                total++;\n                this.once(\"drain\", function () {\n                    debug(\"pre-pause writing complete\");\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        debug(\"polling\");\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        debug(\"polling got data %s\", data);\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n                debug('ignoring poll - transport state \"%s\"', this.readyState);\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            debug(\"writing close packet\");\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            debug(\"transport open - closing\");\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            debug(\"transport not open - deferring close\");\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        debug(\"xhr poll\");\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            debug(\"xhr open %s: %s\", this.method, this.uri);\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            debug(\"xhr data %s\", this.data);\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import ws from \"ws\";\nexport const WebSocket = ws;\nexport const usingBrowserWebSocket = false;\nexport const defaultBinaryType = \"nodebuffer\";\nexport const nextTick = process.nextTick;\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport debugModule from \"debug\"; // debug()\nimport { encodePacket } from \"engine.io-parser\";\nconst debug = debugModule(\"engine.io-client:websocket\"); // debug()\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                    debug(\"websocket closed before onclose event\");\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"./websocket-constructor.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"engine.io-client:webtransport\"); // debug()\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            debug(\"transport closed gracefully\");\n            this.onClose();\n        })\n            .catch((err) => {\n            debug(\"transport closed due to %s\", err);\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this.writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            debug(\"session is closed\");\n                            return;\n                        }\n                        debug(\"received chunk: %o\", value);\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                        debug(\"an error occurred while reading: %s\", err);\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this.writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this.writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import * as XMLHttpRequestModule from \"xmlhttprequest-ssl\";\nexport const XHR = XMLHttpRequestModule.default || XMLHttpRequestModule;\nexport function createCookieJar() {\n    return new CookieJar();\n}\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\n */\nexport function parse(setCookieString) {\n    const parts = setCookieString.split(\"; \");\n    const i = parts[0].indexOf(\"=\");\n    if (i === -1) {\n        return;\n    }\n    const name = parts[0].substring(0, i).trim();\n    if (!name.length) {\n        return;\n    }\n    let value = parts[0].substring(i + 1).trim();\n    if (value.charCodeAt(0) === 0x22) {\n        // remove double quotes\n        value = value.slice(1, -1);\n    }\n    const cookie = {\n        name,\n        value,\n    };\n    for (let j = 1; j < parts.length; j++) {\n        const subParts = parts[j].split(\"=\");\n        if (subParts.length !== 2) {\n            continue;\n        }\n        const key = subParts[0].trim();\n        const value = subParts[1].trim();\n        switch (key) {\n            case \"Expires\":\n                cookie.expires = new Date(value);\n                break;\n            case \"Max-Age\":\n                const expiration = new Date();\n                expiration.setUTCSeconds(expiration.getUTCSeconds() + parseInt(value, 10));\n                cookie.expires = expiration;\n                break;\n            default:\n            // ignore other keys\n        }\n    }\n    return cookie;\n}\nexport class CookieJar {\n    constructor() {\n        this.cookies = new Map();\n    }\n    parseCookies(xhr) {\n        const values = xhr.getResponseHeader(\"set-cookie\");\n        if (!values) {\n            return;\n        }\n        values.forEach((value) => {\n            const parsed = parse(value);\n            if (parsed) {\n                this.cookies.set(parsed.name, parsed);\n            }\n        });\n    }\n    addCookies(xhr) {\n        const cookies = [];\n        this.cookies.forEach((cookie, name) => {\n            var _a;\n            if (((_a = cookie.expires) === null || _a === void 0 ? void 0 : _a.getTime()) < Date.now()) {\n                this.cookies.delete(name);\n            }\n            else {\n                cookies.push(`${name}=${cookie.value}`);\n            }\n        });\n        if (cookies.length) {\n            xhr.setDisableHeaderCheck(true);\n            xhr.setRequestHeader(\"cookie\", cookies.join(\"; \"));\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","import createWebSocketStream from './lib/stream.js';\nimport Receiver from './lib/receiver.js';\nimport Sender from './lib/sender.js';\nimport WebSocket from './lib/websocket.js';\nimport WebSocketServer from './lib/websocket-server.js';\n\nexport { createWebSocketStream, Receiver, Sender, WebSocket, WebSocketServer };\nexport default WebSocket;\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        const buffer = Buffer.from(encodedPacket.substring(1), \"base64\");\n        return {\n            type: \"message\",\n            data: mapBinary(buffer, binaryType)\n        };\n    }\n    if (!PACKET_TYPES_REVERSE[type]) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"arraybuffer\":\n            if (data instanceof ArrayBuffer) {\n                // from WebSocket & binaryType \"arraybuffer\"\n                return data;\n            }\n            else if (Buffer.isBuffer(data)) {\n                // from HTTP long-polling\n                return data.buffer.slice(data.byteOffset, data.byteOffset + data.byteLength);\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n        case \"nodebuffer\":\n        default:\n            if (Buffer.isBuffer(data)) {\n                // from HTTP long-polling or WebSocket & binaryType \"nodebuffer\" (default)\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return Buffer.from(data);\n            }\n    }\n};\n","import { PACKET_TYPES } from \"./commons.js\";\nexport const encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n        return callback(supportsBinary ? data : \"b\" + toBuffer(data, true).toString(\"base64\"));\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst toBuffer = (data, forceBufferConversion) => {\n    if (Buffer.isBuffer(data) ||\n        (data instanceof Uint8Array && !forceBufferConversion)) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return Buffer.from(data);\n    }\n    else {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n    }\n};\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (packet.data instanceof ArrayBuffer || ArrayBuffer.isView(packet.data)) {\n        return callback(toBuffer(packet.data, false));\n    }\n    encodePacket(packet, true, encoded => {\n        if (!TEXT_ENCODER) {\n            // lazily created for compatibility with Node.js 10\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, encodedPacket => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        }\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else if (state === 2 /* READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        }\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client\"); // debug()\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client:manager\"); // debug()\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            debug(\"error\");\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"closed due to %s\", reason);\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client:socket\"); // debug()\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            debug(\"emitting packet with ack id %d\", id);\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    debug(\"removing packet with ack id %d from the buffer\", id);\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            debug(\"event with ack id %d has timed out after %d ms\", id, timeout);\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    debug(\"packet [%d] is discarded after %d tries\", packet.id, packet.tryCount);\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                debug(\"packet [%d] was successfully sent\", packet.id);\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        debug(\"draining queue\");\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            debug(\"packet [%d] has already been sent and is waiting for an ack\", packet.id);\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        debug(\"sending packet [%d] (try n°%d)\", packet.id, packet.tryCount);\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","import { parse } from \"engine.io-client\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client:url\"); // debug()\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-parser\"); // debug()\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n"],"names":["DOCUMENT","isPlatformServer","isDevMode","PLATFORM_ID","Subject","SeoService","constructor","title","meta","injector","document","platformId","destroyed","updateTitle","setTitle","updateMetaTags","metaTags","forEach","m","updateTag","metaTag","name","content","updateComponentSeo","seoObj","isMainPage","tagValue","url","description","image","updateFbSeo","createAlternateLink","createCanonicalLink","tags","get","toLowerCase","URL","location","href","property","appId","canURL","link","createElement","setAttribute","head","appendChild","updateSeoMetaData","obj","video","console","log","_","i0","ɵɵinject","i1","Title","Meta","Injector","_2","factory","ɵfac","providedIn","isPlatformBrowser","io","environment","SocketService","socket","socketUrl","reconnectionDelay","reconnectionDelayMax","randomizationFactor","reconnectionAttempts","transports","getPost","params","callback","emit","createOrEditPost","file","connected","connect","editPost","getCommunityPost","createCommunityPost","createCommunity","getCommunity","likeFeedPost","likeFeedComments","disLikeFeedPost","commentOnPost","slugify","str","length","trim","replace","numToRevArray","num","Array","fill","map","x","i","reverse","isFormSubmittedAndError","formGroup","isFormSubmitted","controlName","errorName","notError","otherError","controls","errors","Object","keys","some","err","includes","hasError","getTagUsersFromAnchorTags","anchorTags","key","prototype","hasOwnProperty","call","tag","push","id","getAttribute","innerHTML","deleteExtraParamsFromReqObj","reqObj","RouterModule","VideoComponent","routes","path","component","VideoRoutingModule","_3","forChild","imports","exports","NgbDropdown","ReplyCommentModalComponent","ɵɵelementContainerStart","ɵɵelementStart","ɵɵlistener","VideoComponent_div_4_ng_container_4_ng_container_5_Template_div_click_1_listener","restoredCtx","ɵɵrestoreView","_r12","user_r10","$implicit","ctx_r11","ɵɵnextContext","ɵɵresetView","openProfile","unique_link","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵadvance","ɵɵpropertyInterpolate","profile_pic_name","ɵɵsanitizeUrl","ɵɵproperty","firstname","ɵɵtextInterpolate","ɵɵtemplate","VideoComponent_div_4_ng_container_4_ng_container_5_Template","ctx_r7","userSearchList","VideoComponent_div_4_Template_input_ngModelChange_3_listener","$event","_r14","ctx_r13","searchText","VideoComponent_div_4_Template_input_keyup_3_listener","ctx_r15","getSearchData","VideoComponent_div_4_ng_container_4_Template","ɵɵpureFunction0","_c3","ctx_r0","ctx_r1","videoDetails","_c4","ɵɵtextInterpolate1","ɵɵpipeBind2","created","VideoComponent_div_39_ng_container_4_Template_fa_icon_click_3_listener","_r18","ctx_r17","removePostSelectedFile","ctx_r16","commentData","imageUrl","_c5","VideoComponent_div_39_ng_container_4_Template","VideoComponent_div_39_Template_app_tag_user_input_onDataChange_6_listener","_r20","ctx_r19","onTagUserInputChangeEvent","VideoComponent_div_39_Template_fa_icon_click_8_listener","ctx_r21","ctx_r2","authService","userDetails","ProfilePicName","isParent","commentMessageInputValue","_c6","VideoComponent_ng_container_40_ng_container_2_Template_a_click_6_listener","_r29","comment_r22","ctx_r27","editComment","VideoComponent_ng_container_40_ng_container_2_Template_a_click_11_listener","ctx_r30","deleteComments","_c7","_c8","_c9","ɵɵpipeBind1","comment","ɵɵsanitizeHtml","VideoComponent_ng_container_40_ng_container_20_Template_app_tag_user_input_onDataChange_3_listener","_r34","ctx_r33","VideoComponent_ng_container_40_ng_container_20_Template_fa_icon_click_5_listener","ctx_r35","ctx_r25","VideoComponent_ng_container_40_ng_container_22_ng_container_6_Template_a_click_6_listener","_r42","reply_r37","ctx_r40","VideoComponent_ng_container_40_ng_container_22_ng_container_6_Template_a_click_11_listener","ctx_r43","VideoComponent_ng_container_40_ng_container_22_ng_container_6_Template","VideoComponent_ng_container_40_ng_container_22_ng_container_11_Template","VideoComponent_ng_container_40_ng_container_22_Template_button_click_14_listener","_r47","ctx_r46","react","disLikeComments","likeComments","ctx_r26","profileId","sharedService","getCredentials","Username","_c10","likeCount","VideoComponent_ng_container_40_ng_container_2_Template","VideoComponent_ng_container_40_ng_container_11_Template","VideoComponent_ng_container_40_Template_button_click_14_listener","_r49","ctx_r48","VideoComponent_ng_container_40_Template_button_click_17_listener","ctx_r50","showReplySection","VideoComponent_ng_container_40_ng_container_20_Template","VideoComponent_ng_container_40_ng_container_22_Template","ctx_r3","_c11","isReply","postId","commentId","replyCommnetsList","VideoComponent_div_42_div_2_Template_fa_icon_click_1_listener","_r53","ctx_r52","loadMore","_c12","VideoComponent_div_42_div_2_Template","ctx_r4","videoList","hasMoreData","commonService","router","route","toastService","socketService","renderer","modalService","spinner","seoService","channelDetails","apiUrl","commentapiUrl","searchApi","isOpenCommentsPostId","commentList","replyCommentList","isReplyComments","postComment","isCommentsLoader","isPostComment","commentMessageTags","JSON","parse","getUserData","Id","subscribe","getPostDetailsById","ngOnChanges","changes","ngOnInit","getPostVideosById","viewComments","socketListner","getMyChannels","getById","profileid","next","res","hide","error","data","albumname","postdescription","playvideo","activePage","post","size","page","concat","setInterval","player","remove","isPhone","window","innerWidth","config","streamname","thumbfilename","mute","autostart","volume","height","width","pipIcon","preload","aspectratio","autoPause","viewability","playbackRateControls","playbackRates","events","onError","e","stringify","jwplayer","setup","load","clearInterval","onPostFileSelect","event","type","target","files","createObjectURL","danger","warring","addComment","commmentsList","ele","filter","ele1","parentCommentId","replyCount","complete","setTimeout","showReplyedComments","Number","toProfileId","actionType","modalRef","open","centered","componentInstance","confirmButtonLabel","cancelButtonLabel","result","then","comments","delete","success","message","getSearchData1","userSearchNgbDropdown","close","search","channels","html","on","index","findIndex","stripTags","div","innerText","ɵɵdirectiveInject","CommonService","i2","Router","ActivatedRoute","i3","ToastService","i4","i5","AuthService","Renderer2","i6","NgbModal","i7","NgxSpinnerService","i8","ShareService","i9","selectors","viewQuery","VideoComponent_Query","rf","ctx","VideoComponent_div_4_Template","VideoComponent_div_24_Template","VideoComponent_div_39_Template","VideoComponent_ng_container_40_Template","VideoComponent_div_42_Template","VideoComponent_ng_template_43_Template","ɵɵtemplateRefExtractor","_c13","postcreationdate","_c14","_r5","SharedModule","VideoModule","declarations","formatArgs","save","useColors","storage","localstorage","destroy","warned","warn","colors","process","__nwjs","navigator","userAgent","match","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","args","namespace","module","humanize","diff","c","color","splice","lastC","debug","namespaces","setItem","removeItem","r","getItem","env","DEBUG","localStorage","require","formatters","j","v","createDebug","default","coerce","disable","enable","enabled","names","skips","selectColor","hash","charCodeAt","Math","abs","prevTime","enableOverride","namespacesCache","enabledCache","self","curr","Date","ms","prev","unshift","format","formatter","val","logFn","apply","extend","defineProperty","enumerable","configurable","set","init","delimiter","newDebug","split","len","slice","toNamespace","join","test","regexp","toString","substring","Error","stack","browser","tty","util","deprecate","supportsColor","stderr","level","inspectOpts","reduce","prop","k","toUpperCase","Boolean","isatty","fd","colorCode","prefix","getDate","hideDate","toISOString","write","o","inspect","O","EMPTY_BUFFER","list","totalLength","Buffer","allocUnsafe","offset","buf","_mask","source","mask","output","_unmask","buffer","toArrayBuffer","byteLength","byteOffset","toBuffer","readOnly","isBuffer","ArrayBuffer","from","isView","unmask","WS_NO_BUFFER_UTIL","bufferUtil","BINARY_TYPES","alloc","GUID","kForOnEventAttribute","Symbol","kListener","kStatusCode","kWebSocket","NOOP","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","Event","CloseEvent","options","code","undefined","reason","wasClean","ErrorEvent","MessageEvent","EventTarget","addEventListener","handler","listener","listeners","wrapper","onMessage","isBinary","callListener","onClose","_closeFrameReceived","_closeFrameSent","onOpen","once","removeEventListener","removeListener","thisArg","handleEvent","tokenChars","dest","elem","header","offers","create","mustUnescape","isEscaping","inQuotes","extensionName","paramName","start","end","SyntaxError","value","token","extensions","extension","configurations","isArray","values","kDone","kRun","Limiter","concurrency","pending","Infinity","jobs","add","job","shift","zlib","TRAILER","kPerMessageDeflate","kTotalLength","kCallback","kBuffers","zlibLimiter","PerMessageDeflate","isServer","maxPayload","_maxPayload","_options","_threshold","threshold","_isServer","_deflate","_inflate","concurrencyLimit","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","normalizeParams","acceptAsServer","acceptAsClient","cleanup","opts","accepted","find","response","isInteger","TypeError","decompress","fin","done","_decompress","compress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","inflateOnError","inflateOnData","flush","_readableState","endEmitted","reset","createDeflateRaw","zlibDeflateOptions","deflateOnData","Z_SYNC_FLUSH","chunk","RangeError","Writable","isValidStatusCode","isValidUTF8","GET_INFO","GET_PAYLOAD_LENGTH_16","GET_PAYLOAD_LENGTH_64","GET_MASK","GET_DATA","INFLATING","Receiver","_binaryType","binaryType","_extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_state","_loop","_write","encoding","cb","startLoop","consume","n","dst","Uint8Array","getInfo","getPayloadLength16","getPayloadLength64","getMask","getData","compressed","haveLength","readUInt16BE","readUInt32BE","pow","controlMessage","dataMessage","perMessageDeflate","er","messageLength","fragments","ErrorCtor","statusCode","errorCode","captureStackTrace","net","tls","randomFillSync","applyMask","kByteLength","maskBuffer","Sender","generateMask","_generateMask","_maskBuffer","_socket","_firstFragment","_deflating","_queue","frame","merge","skipMasking","dataLength","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","enqueue","dispatch","sendFrame","ping","pong","send","binary","dequeue","Reflect","cork","uncork","Duplex","emitClose","stream","duplexOnEnd","_writableState","finished","duplexOnError","listenerCount","createWebSocketStream","ws","terminateOnDestroy","duplex","autoDestroy","objectMode","writableObjectMode","msg","pause","_destroy","readyState","CLOSED","nextTick","called","terminate","_final","CONNECTING","finish","_read","isPaused","resume","protocols","Set","protocol","has","_isValidUTF8","WS_NO_UTF_8_VALIDATE","EventEmitter","http","https","createHash","subprotocol","WebSocket","keyRegex","RUNNING","CLOSING","WebSocketServer","handleProtocols","clientTracking","verifyClient","noServer","backlog","server","host","port","_server","createServer","req","body","STATUS_CODES","writeHead","listen","emitConnection","bind","_removeListeners","addListeners","listening","upgrade","handleUpgrade","clients","_shouldEmitClose","address","shouldHandle","indexOf","pathname","socketOnError","headers","version","method","abortHandshakeOrEmitwsClientError","abortHandshake","secWebSocketProtocol","secWebSocketExtensions","info","origin","secure","authorized","encrypted","verified","completeUpgrade","readable","writable","digest","update","_protocol","setSocket","removeListeners","Connection","h","randomBytes","Readable","closeTimeout","kAborted","protocolVersions","readyStates","subprotocolRegex","_closeCode","_closeMessage","_closeTimer","_paused","_readyState","_receiver","_sender","_bufferedAmount","_redirects","initAsClient","bufferedAmount","onclose","onerror","onopen","onmessage","_url","receiver","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","setNoDelay","socketOnClose","socketOnData","socketOnEnd","OPEN","removeAllListeners","_req","errorEmitted","sendAfterClose","needDrain","websocket","protocolVersion","followRedirects","maxRedirects","createConnection","socketPath","hostname","timeout","parsedUrl","isSecure","isIpcUrl","invalidUrlMessage","emitErrorAndClose","defaultPort","request","protocolSet","tlsConnect","netConnect","startsWith","Upgrade","handshakeTimeout","Origin","username","password","auth","parts","_originalIpc","_originalSecure","_originalHostOrSocketPath","entries","isSameHost","authorization","cookie","abort","addr","serverProt","protError","extensionNames","servername","isIP","setHeader","receiverOnFinish","read","clearTimeout","flag","argv","pos","terminatorPos","s","d","w","y","isFinite","long","fmtLong","fmtShort","String","exec","parseFloat","msAbs","round","plural","isPlural","os","hasFlag","forceColor","FORCE_COLOR","translateLevel","hasBasic","has256","has16m","isTTY","min","platform","osRelease","release","versions","node","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","getSupportLevel","stdout","fs","Url","spawn","XMLHttpRequest","settings","disableHeaderCheck","defaultHeaders","assign","forbiddenRequestHeaders","forbiddenRequestMethods","sendFlag","errorFlag","abortedFlag","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","onreadystatechange","responseText","responseXML","status","statusText","isAllowedHttpHeader","isAllowedHttpMethod","async","user","setState","setDisableHeaderCheck","state","setRequestHeader","getResponseHeader","getAllResponseHeaders","substr","getRequestHeader","ssl","local","readFile","unescape","handleError","errno","readFileSync","uri","authBuf","agent","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","doRequest","dispatchEvent","responseHandler","resp","newOptions","errorHandler","setEncoding","autoUnref","unref","contentFile","pid","syncFile","writeFileSync","execString","syncProc","existsSync","stdin","unlinkSync","errorObj","ev","setImmediate","fire","Emitter","mixin","fn","_callbacks","off","arguments","callbacks","emitReserved","hasListeners","encode","encodeURIComponent","decode","qs","qry","pairs","l","pair","decodeURIComponent","re","src","b","authority","ipv6uri","pathNames","queryKey","regx","query","$0","$2","alphabet","seed","encoded","floor","decoded","charAt","yeast","now","globalThisShim","global","Socket","Transport","TransportError","installTimerFunctions","debugModule","defaultBinaryType","writeBuffer","prevBufferLen","withCredentials","timestampParam","rememberUpgrade","addTrailingSlash","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","transport","offlineEventListener","createTransport","EIO","sid","priorWebsocketSuccess","setTimeoutFn","setTransport","onDrain","onPacket","probe","failed","onTransportOpen","upgrading","freezeTransport","onTransportClose","onupgrade","to","packet","resetPingTimeout","onHandshake","sendPacket","filterUpgrades","clearTimeoutFn","packets","getWritablePackets","shouldCheckPayloadSize","payloadSize","cleanupAndClose","waitForUpgrade","filteredUpgrades","decodePacket","context","doOpen","doClose","onData","details","onPause","createUri","schema","_hostname","_port","_query","encodedQuery","Polling","WS","WT","webtransport","polling","encodePayload","decodePayload","createCookieJar","XHR","pick","globalThis","empty","hasXHR2","xhr","xdomain","responseType","isSSL","xd","forceBase64","supportsBinary","cookieJar","poll","total","doPoll","doWrite","timestampRequests","b64","Request","xhrStatus","pollXhr","_a","extraHeaders","addCookies","requestTimeout","parseCookies","onLoad","requestsCount","requests","fromError","attachEvent","unloadHandler","terminationEvent","usingBrowserWebSocket","encodePacket","isReactNative","product","check","addEventListeners","closeEvent","lastPacket","createPacketDecoderStream","createPacketEncoderStream","WebTransport","closed","catch","ready","createBidirectionalStream","decoderStream","MAX_SAFE_INTEGER","reader","pipeThrough","getReader","encoderStream","pipeTo","writer","getWriter","XMLHttpRequestModule","CookieJar","setCookieString","subParts","expires","expiration","setUTCSeconds","getUTCSeconds","cookies","Map","parsed","getTime","attr","acc","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","useNativeTimers","BASE64_OVERHEAD","utf8Length","ceil","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","encodedPacket","mapBinary","forceBufferConversion","TEXT_ENCODER","encodePacketToBinary","TextEncoder","SEPARATOR","fromCharCode","encodedPackets","count","encodedPayload","decodedPacket","TransformStream","transform","controller","DataView","setUint8","view","setUint16","setBigUint64","BigInt","TEXT_DECODER","chunks","concatChunks","TextDecoder","expectedLength","headerArray","getUint16","getUint32","Backoff","max","factor","jitter","attempts","duration","rand","random","deviation","setMin","setMax","setJitter","Manager","cache","lookup","sameNamespace","newConnection","forceNew","multiplex","Engine","parser","nsps","subs","reconnection","backoff","_parser","encoder","Encoder","decoder","Decoder","_autoConnect","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","engine","skipReconnect","openSubDestroy","errorSub","timer","onping","ondata","ondecoded","nsp","active","_close","_packet","subDestroy","disconnect","delay","onreconnect","attempt","PacketType","RESERVED_EVENTS","freeze","connect_error","disconnecting","newListener","recovered","receiveBuffer","sendBuffer","_queueSeq","ids","acks","flags","_opts","disconnected","subEvents","onpacket","retries","fromQueue","volatile","_addToQueue","EVENT","ack","pop","_registerAckCallback","isTransportWritable","discardPacket","notifyOutgoingListeners","ackTimeout","emitWithAck","withErr","Promise","resolve","reject","arg1","arg2","tryCount","responseArgs","_drainQueue","force","_sendConnectPacket","CONNECT","_pid","_lastOffset","onconnect","BINARY_EVENT","onevent","ACK","BINARY_ACK","onack","DISCONNECT","ondisconnect","CONNECT_ERROR","emitEvent","_anyListeners","sent","emitBuffered","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","loc","ipv6","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","newData","reconstructPacket","_reconstructPacket","isIndexValid","hasBinary","replacer","encodeAsBinary","encodeAsString","deconstruction","isObject","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","base64","takeBinaryData","p","payload","tryParse","isPayloadValid","finishedReconstruction","reconPack","binData","withNativeArrayBuffer","withNativeBlob","Blob","withNativeFile","File","toJSON"],"sourceRoot":"webpack:///","x_google_ignoreList":[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56]}
{"version":3,"file":"642.js","mappings":"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","sources":["./src/app/@shared/services/seo.service.ts","./src/app/@shared/services/socket.service.ts","./src/app/main-layout/pages/home/home-routing.module.ts","./src/app/main-layout/pages/home/home.component.ts","./src/app/main-layout/pages/home/home.component.html","./src/app/main-layout/pages/home/home.module.ts","./node_modules/debug/src/browser.js","./node_modules/debug/src/common.js","./node_modules/debug/src/index.js","./node_modules/debug/src/node.js","./node_modules/engine.io-client/node_modules/ws/lib/buffer-util.js","./node_modules/engine.io-client/node_modules/ws/lib/constants.js","./node_modules/engine.io-client/node_modules/ws/lib/event-target.js","./node_modules/engine.io-client/node_modules/ws/lib/extension.js","./node_modules/engine.io-client/node_modules/ws/lib/limiter.js","./node_modules/engine.io-client/node_modules/ws/lib/permessage-deflate.js","./node_modules/engine.io-client/node_modules/ws/lib/receiver.js","./node_modules/engine.io-client/node_modules/ws/lib/sender.js","./node_modules/engine.io-client/node_modules/ws/lib/stream.js","./node_modules/engine.io-client/node_modules/ws/lib/subprotocol.js","./node_modules/engine.io-client/node_modules/ws/lib/validation.js","./node_modules/engine.io-client/node_modules/ws/lib/websocket-server.js","./node_modules/engine.io-client/node_modules/ws/lib/websocket.js","./node_modules/has-flag/index.js","./node_modules/ms/index.js","./node_modules/supports-color/index.js","./node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js","./node_modules/@socket.io/component-emitter/index.mjs","./node_modules/engine.io-client/build/esm-debug/contrib/parseqs.js","./node_modules/engine.io-client/build/esm-debug/contrib/parseuri.js","./node_modules/engine.io-client/build/esm-debug/contrib/yeast.js","./node_modules/engine.io-client/build/esm-debug/globalThis.js","./node_modules/engine.io-client/build/esm-debug/index.js","./node_modules/engine.io-client/build/esm-debug/socket.js","./node_modules/engine.io-client/build/esm-debug/transport.js","./node_modules/engine.io-client/build/esm-debug/transports/index.js","./node_modules/engine.io-client/build/esm-debug/transports/polling.js","./node_modules/engine.io-client/build/esm-debug/transports/websocket-constructor.js","./node_modules/engine.io-client/build/esm-debug/transports/websocket.js","./node_modules/engine.io-client/build/esm-debug/transports/webtransport.js","./node_modules/engine.io-client/build/esm-debug/transports/xmlhttprequest.js","./node_modules/engine.io-client/build/esm-debug/util.js","./node_modules/engine.io-client/node_modules/ws/wrapper.mjs","./node_modules/engine.io-parser/build/esm/commons.js","./node_modules/engine.io-parser/build/esm/decodePacket.js","./node_modules/engine.io-parser/build/esm/encodePacket.js","./node_modules/engine.io-parser/build/esm/index.js","./node_modules/socket.io-client/build/esm-debug/contrib/backo2.js","./node_modules/socket.io-client/build/esm-debug/index.js","./node_modules/socket.io-client/build/esm-debug/manager.js","./node_modules/socket.io-client/build/esm-debug/on.js","./node_modules/socket.io-client/build/esm-debug/socket.js","./node_modules/socket.io-client/build/esm-debug/url.js","./node_modules/socket.io-parser/build/esm-debug/binary.js","./node_modules/socket.io-parser/build/esm-debug/index.js","./node_modules/socket.io-parser/build/esm-debug/is-binary.js"],"sourcesContent":["import { DOCUMENT, isPlatformServer } from '@angular/common';\r\nimport { Inject, Injectable, Injector, isDevMode, PLATFORM_ID } from '@angular/core';\r\nimport { Title, Meta, MetaDefinition } from '@angular/platform-browser';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SeoService {\r\n  destroyed = new Subject<void>();\r\n\r\n  constructor(\r\n    private title: Title,\r\n    private meta: Meta,\r\n    private injector: Injector,\r\n    @Inject(DOCUMENT) private document: Document,\r\n    @Inject(PLATFORM_ID) private platformId: Object\r\n  ) { }\r\n\r\n  updateTitle(title: string): void {\r\n    this.title.setTitle(title);\r\n  }\r\n\r\n  updateMetaTags(metaTags: MetaDefinition[]): void {\r\n    metaTags.forEach((m) => {\r\n      this.meta.updateTag(m);\r\n    });\r\n\r\n    if (isDevMode()) {\r\n      const metaTag: MetaDefinition = {\r\n        name: 'googlebot',\r\n        content: 'noindex, nofollow'\r\n      };\r\n      this.meta.updateTag(metaTag);\r\n    }\r\n  }\r\n\r\n  updateComponentSeo(seoObj: any = {}, isMainPage: boolean = false): void {\r\n    const metaTags = [...seoObj?.metaTags] || [];\r\n    const tagValue = {\r\n      title: seoObj?.title,\r\n      url: seoObj?.url,\r\n      description: metaTags?.[0]?.content,\r\n      image: metaTags?.[1]?.content\r\n    };\r\n\r\n    this.updateTitle(seoObj?.title);\r\n    this.updateMetaTags(metaTags);\r\n\r\n    this.updateFbSeo(tagValue);\r\n\r\n    this.createAlternateLink(seoObj?.url);\r\n\r\n    if (isMainPage === false) {\r\n      this.createCanonicalLink(seoObj?.url);\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line max-len\r\n  updateFbSeo(tags: { title: string, url?: string, appId?: string, description?: string, image?: string }): void {\r\n    const tagValue = { ...tags };\r\n\r\n    if (!tagValue.url) {\r\n      if (isPlatformServer(this.platformId)) {\r\n        tagValue.url = this.injector.get('REQ_URL').toLowerCase();\r\n      } else {\r\n        tagValue.url = this.document.URL.toLowerCase() || this.document.location.href.toLowerCase();\r\n      }\r\n    }\r\n\r\n    if (!tagValue.image) {\r\n      tagValue.image = 'https://freedom.buzz/assets/images/banner/freedom-buzz-high-res.jpeg';\r\n    }\r\n\r\n    this.meta.updateTag({\r\n      property: 'og:type',\r\n      content: 'website'\r\n    });\r\n\r\n    if (tagValue.title) {\r\n      this.meta.updateTag({\r\n        property: 'og:title',\r\n        content: tagValue.title\r\n      });\r\n    }\r\n\r\n    if (tagValue.description) {\r\n      this.meta.updateTag({\r\n        property: 'og:description',\r\n        content: tagValue.description\r\n      });\r\n    }\r\n\r\n    if (tagValue.image) {\r\n      this.meta.updateTag({\r\n        property: 'og:image',\r\n        content: tagValue.image\r\n      });\r\n    }\r\n\r\n    this.meta.updateTag({\r\n      property: 'og:url',\r\n      content: tagValue.url\r\n    });\r\n\r\n    this.meta.updateTag({\r\n      property: 'og:appId',\r\n      content: tagValue.appId\r\n    });\r\n\r\n    this.meta.updateTag({\r\n      property: 'fb:app_id',\r\n      content: tagValue.appId\r\n    });\r\n\r\n    this.meta.updateTag({\r\n      property: 'fb:app:id',\r\n      content: tagValue.appId\r\n    });\r\n\r\n  }\r\n\r\n  private createAlternateLink(url: string = '') {\r\n    const canURL = url || this.document.URL;\r\n    const link = this.document.createElement('link');\r\n\r\n    link.setAttribute('rel', 'alternate');\r\n    link.setAttribute('hreflang', 'en');\r\n    link.setAttribute('href', canURL || '[url]');\r\n    this.document.head.appendChild(link);\r\n  }\r\n\r\n  private createCanonicalLink(url: string = '') {\r\n    const canURL = url || this.document.URL;\r\n    const link = this.document.createElement('link');\r\n\r\n    link.setAttribute('rel', 'canonical');\r\n    link.setAttribute('href', canURL || '[url]');\r\n    this.document.head.appendChild(link);\r\n  }\r\n\r\n  updateSeoMetaData(obj: any = {}, isMainPage: boolean = false): void {\r\n    const seoObj = {\r\n      url: obj?.url,\r\n      title: obj?.title,\r\n      metaTags: [{\r\n        name: 'description',\r\n        content: obj?.description\r\n      }, {\r\n        name: 'image',\r\n        content: obj?.image\r\n      }, {\r\n        name: 'video',\r\n        content: obj?.video\r\n      },\r\n      ]\r\n    };\r\n    console.log('seoObj', seoObj, obj?.description)\r\n    this.updateComponentSeo(seoObj, isMainPage);\r\n  }\r\n}\r\n","import { isPlatformBrowser } from '@angular/common';\r\nimport { Inject, Injectable, PLATFORM_ID } from '@angular/core';\r\nimport { io } from 'socket.io-client';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SocketService {\r\n  public socket: any;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private platformId: Object\r\n  ) {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.socket = io(environment.socketUrl, {\r\n        reconnectionDelay: 100,\r\n        reconnectionDelayMax: 300,\r\n        // reconnection: true,\r\n        randomizationFactor: 0.2,\r\n        // timeout: 120000,\r\n        reconnectionAttempts: 50000, transports: [\"websocket\"]\r\n      });\r\n    }\r\n  }\r\n\r\n  // socket for posts //\r\n  getPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('get-new-post', params, callback);\r\n  }\r\n\r\n  createOrEditPost({ file, ...params }) {\r\n    if (this.socket?.connected) {\r\n      this.socket?.emit('create-new-post', params);\r\n    } else {\r\n      this.socket?.connect();\r\n      this.socket?.emit('create-new-post', params);\r\n    }\r\n\r\n  }\r\n\r\n  editPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('create-new-post', params, callback);\r\n  }\r\n\r\n  // socket for community //\r\n  getCommunityPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('get-community-post', params, callback);\r\n  }\r\n\r\n  createCommunityPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('create-community-post', params, callback);\r\n  }\r\n\r\n  createCommunity(params, callback: (post: any) => void) {\r\n    this.socket?.emit('create-new-community', params, callback);\r\n  }\r\n\r\n  getCommunity(params, callback: (post: any) => void) {\r\n    this.socket?.emit('get-new-community', params, callback);\r\n  }\r\n\r\n  likeFeedPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('likeOrDislike', params, callback);\r\n  }\r\n\r\n  likeFeedComments(params, callback: (post: any) => void) {\r\n    this.socket?.emit('likeOrDislikeComments', params, callback);\r\n  }\r\n\r\n  disLikeFeedPost(params, callback: (post: any) => void) {\r\n    this.socket?.emit('likeOrDislike', params, callback);\r\n  }\r\n\r\n  commentOnPost(params, callback: (data: any) => void) {\r\n    this.socket?.emit('comments-on-post', params, callback);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes, mapToCanActivate } from '@angular/router';\r\nimport { HomeComponent } from './home.component';\r\nimport { UserAuthGuard } from 'src/app/@shared/guards/user-auth.guard';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'home',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'home',\r\n    component: HomeComponent,\r\n  },\r\n  {\r\n    path: 'channel/:name',\r\n    component: HomeComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HomeRoutingModule { }\r\n","import { AfterViewInit, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { AuthService } from 'src/app/@shared/services/auth.service';\r\nimport { CommonService } from 'src/app/@shared/services/common.service';\r\nimport { SeoService } from 'src/app/@shared/services/seo.service';\r\nimport { ShareService } from 'src/app/@shared/services/share.service';\r\nimport { SocketService } from 'src/app/@shared/services/socket.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss'],\r\n})\r\nexport class HomeComponent implements OnInit, AfterViewInit {\r\n  apiUrl = environment.apiUrl + 'channels/';\r\n  channelData: any = {};\r\n  videoList: any = [];\r\n  recommendedVideoList: any = [];\r\n  isNavigationEnd = false;\r\n  activePage = 0;\r\n  activeFeturePage = 0;\r\n  hasMoreData = false;\r\n  hasRecommendedData = false;\r\n  channelName = '';\r\n  profileId: number;\r\n  userId: number;\r\n  channelId: number;\r\n  receivedSearchText: string = '';\r\n  activeTab: string = 'Videos';\r\n  searchChannelData: any = [];\r\n  searchPostData: any = [];\r\n  searchResults: number;\r\n\r\n  notificationId: number;\r\n  searchText: string;\r\n\r\n  constructor(\r\n\r\n    private route: ActivatedRoute,\r\n    private commonService: CommonService,\r\n    private spinner: NgxSpinnerService,\r\n    private socketService: SocketService,\r\n    private authService: AuthService,\r\n    private shareService: ShareService,\r\n    // private seoService: SeoService,\r\n    private seoService:SeoService,\r\n  ) {\r\n    this.profileId = JSON.parse(this.authService.getUserData() as any)?.Id;\r\n    this.userId = JSON.parse(this.authService.getUserData() as any)?.UserID;\r\n    this.channelId = +localStorage.getItem('channelId');\r\n\r\n    this.route.paramMap.subscribe((paramMap) => {\r\n      // https://facetime.opash.in/\r\n      const name = paramMap.get('name');\r\n      this.channelName = name;\r\n      this.videoList = [];\r\n      if (name) {\r\n        this.channelName = name;\r\n        this.getChannelDetails(name);\r\n        if (this.searchResults) {\r\n          this.searchChannelData = null;\r\n          this.searchPostData = null;\r\n          this.searchResults = null;\r\n        }\r\n      } else {\r\n        this.getChannelByUserId(this.userId);\r\n      }\r\n    });\r\n    const data = {\r\n      title: `ReeferTube`,\r\n      description: '',\r\n    };\r\n    this.seoService.updateSeoMetaData(data);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.recommendedLoadMore();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (!this.socketService?.socket?.connected) {\r\n      this.socketService?.socket?.connect();\r\n    }\r\n\r\n    this.socketService?.socket?.emit('join', { room: this.profileId });\r\n    this.socketService?.socket?.on('notification', (data: any) => {\r\n      console.log(data);\r\n      if (data) {\r\n        this.notificationId = data.id;\r\n        this.shareService.isNotify = true;\r\n        if (this.notificationId) {\r\n          this.commonService.getNotification(this.notificationId).subscribe({\r\n            next: (res) => {\r\n              console.log(res);\r\n              localStorage.setItem('isRead', res.data[0]?.isRead);\r\n            },\r\n            error: (error) => {\r\n              console.log(error);\r\n            },\r\n          });\r\n        }\r\n      }\r\n    });\r\n    const isRead = localStorage.getItem('isRead');\r\n    if (isRead === 'N') {\r\n      this.shareService.isNotify = true;\r\n    }\r\n  }\r\n\r\n  getChannelByUserId(value): void {\r\n    this.commonService.get(`${this.apiUrl}my-channel/${value}`).subscribe({\r\n      next: (res) => {\r\n        // console.log(res.data);\r\n        if (res) {\r\n          this.channelData = res[0];\r\n          // localStorage.setItem('channelId', this.channelData.id);\r\n          // console.log(this.channelData);\r\n          const data = {\r\n            title: `ReeferTube ${this.channelData?.firstname}`,\r\n            url: `${location.href}`,\r\n            description: '',\r\n          };\r\n          this.seoService.updateSeoMetaData(data);\r\n          this.getPostVideosById();\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.log(error);\r\n      },\r\n    });\r\n  }\r\n\r\n  getChannelDetails(value): void {\r\n    this.commonService.get(`${this.apiUrl}${value}`).subscribe({\r\n      next: (res) => {\r\n        // console.log(res.data);\r\n        if (res.data.length) {\r\n          this.channelData = res.data[0];\r\n          const data = {\r\n            title: `ReeferTube ${this.channelData.firstname}`,\r\n            url: `${location.href}`,\r\n            description: '',\r\n          };\r\n          this.seoService.updateSeoMetaData(data);\r\n          // console.log(this.channelData);\r\n          this.getPostVideosById();\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.log(error);\r\n      },\r\n    });\r\n  }\r\n\r\n  // getPostVideosById(): void {\r\n  //   this.commonService\r\n  //     .post(this.apiUrl, { id: this.channelData?.profileid, size: 10, page: this.activePage })\r\n  //     .subscribe({\r\n  //       next: (res: any) => {\r\n  //         this.videoList = res.data;\r\n  //         console.log(res);\r\n  //       },\r\n  //       error: (error) => {\r\n  //         console.log(error);\r\n  //       },\r\n  //     });\r\n  // }\r\n\r\n  getPostVideosById(): void {\r\n    this.activePage = 0;\r\n    if (this.channelData?.profileid) {\r\n      this.loadMore();\r\n    }\r\n  }\r\n\r\n  loadMore() {\r\n    this.activePage++;\r\n    this.spinner.show();\r\n    this.commonService\r\n      .post(`${this.apiUrl}my-posts`, {\r\n        id: this.channelData?.id,\r\n        size: 12,\r\n        page: this.activePage,\r\n      })\r\n      .subscribe({\r\n        next: (res: any) => {\r\n          this.spinner.hide();\r\n          if (res?.data?.length > 0) {\r\n            this.videoList = this.videoList.concat(res.data);\r\n            this.hasMoreData = false;\r\n          } else {\r\n            this.hasMoreData = true;\r\n          }\r\n        },\r\n        error: (error) => {\r\n          this.spinner.hide();\r\n          console.log(error);\r\n        },\r\n      });\r\n  }\r\n\r\n  recommendedLoadMore() {\r\n    this.activeFeturePage++;\r\n    this.spinner.show();\r\n    this.commonService\r\n      .post(`${this.apiUrl}posts`, {\r\n        id: this.channelData?.id,\r\n        size: 12,\r\n        page: this.activeFeturePage,\r\n      })\r\n      .subscribe({\r\n        next: (res: any) => {\r\n          this.spinner.hide();\r\n          if (res?.data?.length > 0) {\r\n            this.recommendedVideoList = this.recommendedVideoList.concat(\r\n              res.data\r\n            );\r\n            this.hasRecommendedData = false;\r\n          } else {\r\n            this.hasRecommendedData = true;\r\n          }\r\n        },\r\n        error: (error) => {\r\n          this.spinner.hide();\r\n          console.log(error);\r\n        },\r\n      });\r\n  }\r\n  switchTab(tabName: string) {\r\n    this.activeTab = tabName;\r\n    console.log(tabName);\r\n  }\r\n\r\n  onSearchData(searchText: string) {\r\n    console.log(searchText);\r\n    this.searchText = searchText;\r\n    \r\n\r\n\r\n\r\n    this.spinner.show();\r\n    this.commonService\r\n      .post(`${this.apiUrl}search-all`, { search: searchText })\r\n      .subscribe({\r\n        next: (res: any) => {\r\n          this.spinner.hide();\r\n          this.searchChannelData = res.channels;\r\n          this.searchPostData = res.posts;\r\n          this.searchResults =\r\n            this.searchChannelData.length + this.searchPostData.length;\r\n          if (res.channels.length === 0) {\r\n            this.activeTab = 'Videos';\r\n          }\r\n          // console.log(this.searchResults);\r\n        },\r\n        error: (error) => {\r\n          this.spinner.hide();\r\n          console.log(error);\r\n        },\r\n      });\r\n  }\r\n\r\n  clearSearchData() {\r\n    this.searchChannelData = null;\r\n    this.searchPostData = null;\r\n    this.searchResults = null;\r\n  }\r\n}\r\n","<div class=\"video-block section-padding\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <app-lf-dashboard (searchTextEmitter)=\"onSearchData($event)\" />\r\n    </div>\r\n    <ng-container *ngIf=\"searchResults === 0\">\r\n      <h2 class=\"text-center\">No search result found</h2>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"channelData?.firstname && !searchResults\">\r\n      <div class=\"main-title d-flex font-24-px icon-color\">\r\n        <fa-icon [icon]=\"['fas', 'play-circle']\" class=\"me-2\" />\r\n        <h6>{{ channelData.firstname }}</h6>\r\n      </div>\r\n      <app-video-card [videoData]=\"videoList\" />\r\n      <div\r\n        class=\"d-flex justify-content-center mb-2\"\r\n        *ngIf=\"!hasMoreData && videoList.length\"\r\n      >\r\n        <button class=\"btn btn-outline-primary\" (click)=\"loadMore()\">\r\n          Load More\r\n        </button>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n<ng-container *ngIf=\"!searchResults\">\r\n  <div class=\"video-block section-padding\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"main-title d-flex font-24-px icon-color\">\r\n          <fa-icon [icon]=\"['fas', 'play-circle']\" class=\"me-2\" />\r\n          <h6>Featured Videos</h6>\r\n        </div>\r\n      </div>\r\n      <app-video-card [videoData]=\"recommendedVideoList\" />\r\n      <div\r\n        class=\"d-flex justify-content-center mb-2\"\r\n        *ngIf=\"!hasRecommendedData && recommendedVideoList.length\"\r\n      >\r\n        <button class=\"btn btn-outline-primary\" (click)=\"recommendedLoadMore()\">\r\n          Load More\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n\r\n<!-- <hr class=\"mt-0\"> -->\r\n<!-- <div class=\"video-block section-padding\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"main-title\">\r\n        <h6>Popular Channels</h6>\r\n      </div>\r\n    </div>\r\n\r\n    <app-channels-card  />\r\n\r\n  </div>\r\n</div> -->\r\n\r\n<ng-container *ngIf=\"searchResults\">\r\n  <div class=\"search-container\">\r\n    <div class=\"c-box mb-3 single-video-comment-tabs\">\r\n      <div class=\"d-flex justify-content-between\">\r\n        <div class=\"mb-5\">\r\n          <h6>About {{ searchResults }} results</h6>\r\n          <h4>Search result for {{searchText}}</h4>\r\n        </div>\r\n        <fa-icon\r\n        [icon]=\"['fas', 'xmark']\"\r\n        class=\"font-24-px\"\r\n        role=\"button\"\r\n        title=\"close\"\r\n        (click)=\"clearSearchData()\"\r\n      />\r\n      </div>\r\n      <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n        <li class=\"nav-item cursor\">\r\n          <a\r\n            class=\"nav-link\"\r\n            [class.active]=\"activeTab === 'Channels'\"\r\n            (click)=\"switchTab('Channels')\"\r\n            >Channels</a\r\n          >\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a\r\n            class=\"nav-link cursor\"\r\n            [class.active]=\"activeTab === 'Videos'\"\r\n            (click)=\"switchTab('Videos')\"\r\n            >Videos</a\r\n          >\r\n        </li>\r\n      </ul>\r\n      <app-channels-card\r\n        *ngIf=\"activeTab === 'Channels'\"\r\n        [channelList]=\"searchChannelData\"\r\n      />\r\n      <app-video-card\r\n        *ngIf=\"activeTab === 'Videos'\"\r\n        [videoData]=\"searchPostData\"\r\n      />\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { HomeRoutingModule } from './home-routing.module';\r\nimport { SharedModule } from 'src/app/@shared/shared.module';\r\nimport { HomeComponent } from './home.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomeComponent,\r\n  ],\r\n  imports: [\r\n    HomeRoutingModule,\r\n    SharedModule,\r\n  ]\r\n})\r\nexport class HomeModule { }\r\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data, true);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf, false);\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n'use strict';\n\nconst net = require('net');\nconst tls = require('tls');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER } = require('./constants');\nconst { isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        randomFillSync(mask, 0, 4);\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        [kByteLength]: byteLength,\n        fin: options.fin,\n        generateMask: this._generateMask,\n        mask: options.mask,\n        maskBuffer: this._maskBuffer,\n        opcode,\n        readOnly,\n        rsv1\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n      } else {\n        this.dispatch(data, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(data, {\n          [kByteLength]: byteLength,\n          fin: options.fin,\n          generateMask: this._generateMask,\n          mask: options.mask,\n          maskBuffer: this._maskBuffer,\n          opcode,\n          readOnly,\n          rsv1: false\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const params = this._queue[i];\n          const callback = params[params.length - 1];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst https = require('https');\nconst net = require('net');\nconst tls = require('tls');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!key || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    this._sender = new Sender(socket, this._extensions, options.generateMask);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n\n    websocket._url = address;\n  }\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  req.end();\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","/**\n * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.\n *\n * This can be used with JS designed for browsers to improve reuse of code and\n * allow the use of existing libraries.\n *\n * Usage: include(\"XMLHttpRequest.js\") and use XMLHttpRequest per W3C specs.\n *\n * @author Dan DeFelippi <dan@driverdan.com>\n * @contributor David Ellis <d.f.ellis@ieee.org>\n * @license MIT\n */\n\nvar fs = require('fs');\nvar Url = require('url');\nvar spawn = require('child_process').spawn;\n\n/**\n * Module exports.\n */\n\nmodule.exports = XMLHttpRequest;\n\n// backwards-compat\nXMLHttpRequest.XMLHttpRequest = XMLHttpRequest;\n\n/**\n * `XMLHttpRequest` constructor.\n *\n * Supported options for the `opts` object are:\n *\n *  - `agent`: An http.Agent instance; http.globalAgent may be used; if 'undefined', agent usage is disabled\n *\n * @param {Object} opts optional \"options\" object\n */\n\nfunction XMLHttpRequest(opts) {\n  \"use strict\";\n\n  opts = opts || {};\n\n  /**\n   * Private variables\n   */\n  var self = this;\n  var http = require('http');\n  var https = require('https');\n\n  // Holds http.js objects\n  var request;\n  var response;\n\n  // Request settings\n  var settings = {};\n\n  // Disable header blacklist.\n  // Not part of XHR specs.\n  var disableHeaderCheck = false;\n\n  // Set some default headers\n  var defaultHeaders = {\n    \"User-Agent\": \"node-XMLHttpRequest\",\n    \"Accept\": \"*/*\"\n  };\n\n  var headers = Object.assign({}, defaultHeaders);\n\n  // These headers are not user setable.\n  // The following are allowed but banned in the spec:\n  // * user-agent\n  var forbiddenRequestHeaders = [\n    \"accept-charset\",\n    \"accept-encoding\",\n    \"access-control-request-headers\",\n    \"access-control-request-method\",\n    \"connection\",\n    \"content-length\",\n    \"content-transfer-encoding\",\n    \"cookie\",\n    \"cookie2\",\n    \"date\",\n    \"expect\",\n    \"host\",\n    \"keep-alive\",\n    \"origin\",\n    \"referer\",\n    \"te\",\n    \"trailer\",\n    \"transfer-encoding\",\n    \"upgrade\",\n    \"via\"\n  ];\n\n  // These request methods are not allowed\n  var forbiddenRequestMethods = [\n    \"TRACE\",\n    \"TRACK\",\n    \"CONNECT\"\n  ];\n\n  // Send flag\n  var sendFlag = false;\n  // Error flag, used when errors occur or abort is called\n  var errorFlag = false;\n  var abortedFlag = false;\n\n  // Event listeners\n  var listeners = {};\n\n  /**\n   * Constants\n   */\n\n  this.UNSENT = 0;\n  this.OPENED = 1;\n  this.HEADERS_RECEIVED = 2;\n  this.LOADING = 3;\n  this.DONE = 4;\n\n  /**\n   * Public vars\n   */\n\n  // Current state\n  this.readyState = this.UNSENT;\n\n  // default ready state change handler in case one is not set or is set late\n  this.onreadystatechange = null;\n\n  // Result & response\n  this.responseText = \"\";\n  this.responseXML = \"\";\n  this.status = null;\n  this.statusText = null;\n\n  /**\n   * Private methods\n   */\n\n  /**\n   * Check if the specified header is allowed.\n   *\n   * @param string header Header to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpHeader = function(header) {\n    return disableHeaderCheck || (header && forbiddenRequestHeaders.indexOf(header.toLowerCase()) === -1);\n  };\n\n  /**\n   * Check if the specified method is allowed.\n   *\n   * @param string method Request method to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpMethod = function(method) {\n    return (method && forbiddenRequestMethods.indexOf(method) === -1);\n  };\n\n  /**\n   * Public methods\n   */\n\n  /**\n   * Open the connection. Currently supports local server requests.\n   *\n   * @param string method Connection method (eg GET, POST)\n   * @param string url URL for the connection.\n   * @param boolean async Asynchronous connection. Default is true.\n   * @param string user Username for basic authentication (optional)\n   * @param string password Password for basic authentication (optional)\n   */\n  this.open = function(method, url, async, user, password) {\n    this.abort();\n    errorFlag = false;\n    abortedFlag = false;\n\n    // Check for valid request method\n    if (!isAllowedHttpMethod(method)) {\n      throw new Error(\"SecurityError: Request method not allowed\");\n    }\n\n    settings = {\n      \"method\": method,\n      \"url\": url.toString(),\n      \"async\": (typeof async !== \"boolean\" ? true : async),\n      \"user\": user || null,\n      \"password\": password || null\n    };\n\n    setState(this.OPENED);\n  };\n\n  /**\n   * Disables or enables isAllowedHttpHeader() check the request. Enabled by default.\n   * This does not conform to the W3C spec.\n   *\n   * @param boolean state Enable or disable header checking.\n   */\n  this.setDisableHeaderCheck = function(state) {\n    disableHeaderCheck = state;\n  };\n\n  /**\n   * Sets a header for the request.\n   *\n   * @param string header Header name\n   * @param string value Header value\n   * @return boolean Header added\n   */\n  this.setRequestHeader = function(header, value) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN\");\n    }\n    if (!isAllowedHttpHeader(header)) {\n      console.warn('Refused to set unsafe header \"' + header + '\"');\n      return false;\n    }\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send flag is true\");\n    }\n    headers[header] = value;\n    return true;\n  };\n\n  /**\n   * Gets a header from the server response.\n   *\n   * @param string header Name of header to get.\n   * @return string Text of the header or null if it doesn't exist.\n   */\n  this.getResponseHeader = function(header) {\n    if (typeof header === \"string\"\n      && this.readyState > this.OPENED\n      && response.headers[header.toLowerCase()]\n      && !errorFlag\n    ) {\n      return response.headers[header.toLowerCase()];\n    }\n\n    return null;\n  };\n\n  /**\n   * Gets all the response headers.\n   *\n   * @return string A string with all response headers separated by CR+LF\n   */\n  this.getAllResponseHeaders = function() {\n    if (this.readyState < this.HEADERS_RECEIVED || errorFlag) {\n      return \"\";\n    }\n    var result = \"\";\n\n    for (var i in response.headers) {\n      // Cookie headers are excluded\n      if (i !== \"set-cookie\" && i !== \"set-cookie2\") {\n        result += i + \": \" + response.headers[i] + \"\\r\\n\";\n      }\n    }\n    return result.substr(0, result.length - 2);\n  };\n\n  /**\n   * Gets a request header\n   *\n   * @param string name Name of header to get\n   * @return string Returns the request header or empty string if not set\n   */\n  this.getRequestHeader = function(name) {\n    // @TODO Make this case insensitive\n    if (typeof name === \"string\" && headers[name]) {\n      return headers[name];\n    }\n\n    return \"\";\n  };\n\n  /**\n   * Sends the request to the server.\n   *\n   * @param string data Optional data to send as request body.\n   */\n  this.send = function(data) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: connection must be opened before send() is called\");\n    }\n\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send has already been called\");\n    }\n\n    var ssl = false, local = false;\n    var url = Url.parse(settings.url);\n    var host;\n    // Determine the server\n    switch (url.protocol) {\n      case 'https:':\n        ssl = true;\n        // SSL & non-SSL both need host, no break here.\n      case 'http:':\n        host = url.hostname;\n        break;\n\n      case 'file:':\n        local = true;\n        break;\n\n      case undefined:\n      case '':\n        host = \"localhost\";\n        break;\n\n      default:\n        throw new Error(\"Protocol not supported.\");\n    }\n\n    // Load files off the local filesystem (file://)\n    if (local) {\n      if (settings.method !== \"GET\") {\n        throw new Error(\"XMLHttpRequest: Only GET method is supported\");\n      }\n\n      if (settings.async) {\n        fs.readFile(unescape(url.pathname), 'utf8', function(error, data) {\n          if (error) {\n            self.handleError(error, error.errno || -1);\n          } else {\n            self.status = 200;\n            self.responseText = data;\n            setState(self.DONE);\n          }\n        });\n      } else {\n        try {\n          this.responseText = fs.readFileSync(unescape(url.pathname), 'utf8');\n          this.status = 200;\n          setState(self.DONE);\n        } catch(e) {\n          this.handleError(e, e.errno || -1);\n        }\n      }\n\n      return;\n    }\n\n    // Default to port 80. If accessing localhost on another port be sure\n    // to use http://localhost:port/path\n    var port = url.port || (ssl ? 443 : 80);\n    // Add query string if one is used\n    var uri = url.pathname + (url.search ? url.search : '');\n\n    // Set the Host header or the server may reject the request\n    headers[\"Host\"] = host;\n    if (!((ssl && port === 443) || port === 80)) {\n      headers[\"Host\"] += ':' + url.port;\n    }\n\n    // Set Basic Auth if necessary\n    if (settings.user) {\n      if (typeof settings.password == \"undefined\") {\n        settings.password = \"\";\n      }\n      var authBuf = new Buffer(settings.user + \":\" + settings.password);\n      headers[\"Authorization\"] = \"Basic \" + authBuf.toString(\"base64\");\n    }\n\n    // Set content length header\n    if (settings.method === \"GET\" || settings.method === \"HEAD\") {\n      data = null;\n    } else if (data) {\n      headers[\"Content-Length\"] = Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data);\n\n      if (!headers[\"Content-Type\"]) {\n        headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n      }\n    } else if (settings.method === \"POST\") {\n      // For a post with no data set Content-Length: 0.\n      // This is required by buggy servers that don't meet the specs.\n      headers[\"Content-Length\"] = 0;\n    }\n\n    var agent = opts.agent || false;\n    var options = {\n      host: host,\n      port: port,\n      path: uri,\n      method: settings.method,\n      headers: headers,\n      agent: agent\n    };\n\n    if (ssl) {\n      options.pfx = opts.pfx;\n      options.key = opts.key;\n      options.passphrase = opts.passphrase;\n      options.cert = opts.cert;\n      options.ca = opts.ca;\n      options.ciphers = opts.ciphers;\n      options.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n    }\n\n    // Reset error flag\n    errorFlag = false;\n    // Handle async requests\n    if (settings.async) {\n      // Use the proper protocol\n      var doRequest = ssl ? https.request : http.request;\n\n      // Request is being sent, set send flag\n      sendFlag = true;\n\n      // As per spec, this is called here for historical reasons.\n      self.dispatchEvent(\"readystatechange\");\n\n      // Handler for the response\n      var responseHandler = function(resp) {\n        // Set response var to the response we got back\n        // This is so it remains accessable outside this scope\n        response = resp;\n        // Check for redirect\n        // @TODO Prevent looped redirects\n        if (response.statusCode === 302 || response.statusCode === 303 || response.statusCode === 307) {\n          // Change URL to the redirect location\n          settings.url = response.headers.location;\n          var url = Url.parse(settings.url);\n          // Set host var in case it's used later\n          host = url.hostname;\n          // Options for the new request\n          var newOptions = {\n            hostname: url.hostname,\n            port: url.port,\n            path: url.path,\n            method: response.statusCode === 303 ? 'GET' : settings.method,\n            headers: headers\n          };\n\n          if (ssl) {\n            newOptions.pfx = opts.pfx;\n            newOptions.key = opts.key;\n            newOptions.passphrase = opts.passphrase;\n            newOptions.cert = opts.cert;\n            newOptions.ca = opts.ca;\n            newOptions.ciphers = opts.ciphers;\n            newOptions.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n          }\n\n          // Issue the new request\n          request = doRequest(newOptions, responseHandler).on('error', errorHandler);\n          request.end();\n          // @TODO Check if an XHR event needs to be fired here\n          return;\n        }\n\n        if (response && response.setEncoding) {\n          response.setEncoding(\"utf8\");\n        }\n\n        setState(self.HEADERS_RECEIVED);\n        self.status = response.statusCode;\n\n        response.on('data', function(chunk) {\n          // Make sure there's some data\n          if (chunk) {\n            self.responseText += chunk;\n          }\n          // Don't emit state changes if the connection has been aborted.\n          if (sendFlag) {\n            setState(self.LOADING);\n          }\n        });\n\n        response.on('end', function() {\n          if (sendFlag) {\n            // The sendFlag needs to be set before setState is called.  Otherwise if we are chaining callbacks\n            // there can be a timing issue (the callback is called and a new call is made before the flag is reset).\n            sendFlag = false;\n            // Discard the 'end' event if the connection has been aborted\n            setState(self.DONE);\n          }\n        });\n\n        response.on('error', function(error) {\n          self.handleError(error);\n        });\n      }\n\n      // Error handler for the request\n      var errorHandler = function(error) {\n        self.handleError(error);\n      }\n\n      // Create the request\n      request = doRequest(options, responseHandler).on('error', errorHandler);\n\n      if (opts.autoUnref) {\n        request.on('socket', (socket) => {\n          socket.unref();\n        });\n      }\n\n      // Node 0.4 and later won't accept empty data. Make sure it's needed.\n      if (data) {\n        request.write(data);\n      }\n\n      request.end();\n\n      self.dispatchEvent(\"loadstart\");\n    } else { // Synchronous\n      // Create a temporary file for communication with the other Node process\n      var contentFile = \".node-xmlhttprequest-content-\" + process.pid;\n      var syncFile = \".node-xmlhttprequest-sync-\" + process.pid;\n      fs.writeFileSync(syncFile, \"\", \"utf8\");\n      // The async request the other Node process executes\n      var execString = \"var http = require('http'), https = require('https'), fs = require('fs');\"\n        + \"var doRequest = http\" + (ssl ? \"s\" : \"\") + \".request;\"\n        + \"var options = \" + JSON.stringify(options) + \";\"\n        + \"var responseText = '';\"\n        + \"var req = doRequest(options, function(response) {\"\n        + \"response.setEncoding('utf8');\"\n        + \"response.on('data', function(chunk) {\"\n        + \"  responseText += chunk;\"\n        + \"});\"\n        + \"response.on('end', function() {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"response.on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"}).on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + (data ? \"req.write('\" + JSON.stringify(data).slice(1,-1).replace(/'/g, \"\\\\'\") + \"');\":\"\")\n        + \"req.end();\";\n      // Start the other Node Process, executing this string\n      var syncProc = spawn(process.argv[0], [\"-e\", execString]);\n      var statusText;\n      while(fs.existsSync(syncFile)) {\n        // Wait while the sync file is empty\n      }\n      self.responseText = fs.readFileSync(contentFile, 'utf8');\n      // Kill the child process once the file has data\n      syncProc.stdin.end();\n      // Remove the temporary file\n      fs.unlinkSync(contentFile);\n      if (self.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)) {\n        // If the file returned an error, handle it\n        var errorObj = self.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/, \"\");\n        self.handleError(errorObj, 503);\n      } else {\n        // If the file returned okay, parse its data and move to the DONE state\n        self.status = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/, \"$1\");\n        self.responseText = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/, \"$1\");\n        setState(self.DONE);\n      }\n    }\n  };\n\n  /**\n   * Called when an error is encountered to deal with it.\n   * @param  status  {number}    HTTP status code to use rather than the default (0) for XHR errors.\n   */\n  this.handleError = function(error, status) {\n    this.status = status || 0;\n    this.statusText = error;\n    this.responseText = error.stack;\n    errorFlag = true;\n    setState(this.DONE);\n  };\n\n  /**\n   * Aborts a request.\n   */\n  this.abort = function() {\n    if (request) {\n      request.abort();\n      request = null;\n    }\n\n    headers = Object.assign({}, defaultHeaders);\n    this.responseText = \"\";\n    this.responseXML = \"\";\n\n    errorFlag = abortedFlag = true\n    if (this.readyState !== this.UNSENT\n        && (this.readyState !== this.OPENED || sendFlag)\n        && this.readyState !== this.DONE) {\n      sendFlag = false;\n      setState(this.DONE);\n    }\n    this.readyState = this.UNSENT;\n  };\n\n  /**\n   * Adds an event listener. Preferred method of binding to events.\n   */\n  this.addEventListener = function(event, callback) {\n    if (!(event in listeners)) {\n      listeners[event] = [];\n    }\n    // Currently allows duplicate callbacks. Should it?\n    listeners[event].push(callback);\n  };\n\n  /**\n   * Remove an event callback that has already been bound.\n   * Only works on the matching funciton, cannot be a copy.\n   */\n  this.removeEventListener = function(event, callback) {\n    if (event in listeners) {\n      // Filter will return a new array with the callback removed\n      listeners[event] = listeners[event].filter(function(ev) {\n        return ev !== callback;\n      });\n    }\n  };\n\n  /**\n   * Dispatch any events, including both \"on\" methods and events attached using addEventListener.\n   */\n  this.dispatchEvent = function(event) {\n    if (typeof self[\"on\" + event] === \"function\") {\n      if (this.readyState === this.DONE)\n        setImmediate(function() { self[\"on\" + event]() })\n      else\n        self[\"on\" + event]()\n    }\n    if (event in listeners) {\n      for (let i = 0, len = listeners[event].length; i < len; i++) {\n        if (this.readyState === this.DONE)\n          setImmediate(function() { listeners[event][i].call(self) })\n        else\n          listeners[event][i].call(self)\n      }\n    }\n  };\n\n  /**\n   * Changes readyState and calls onreadystatechange.\n   *\n   * @param int state New state\n   */\n  var setState = function(state) {\n    if ((self.readyState === state) || (self.readyState === self.UNSENT && abortedFlag))\n      return\n\n    self.readyState = state;\n\n    if (settings.async || self.readyState < self.OPENED || self.readyState === self.DONE) {\n      self.dispatchEvent(\"readystatechange\");\n    }\n\n    if (self.readyState === self.DONE) {\n      let fire\n\n      if (abortedFlag)\n        fire = \"abort\"\n      else if (errorFlag)\n        fire = \"error\"\n      else\n        fire = \"load\"\n\n      self.dispatchEvent(fire)\n\n      // @TODO figure out InspectorInstrumentation::didLoadXHR(cookie)\n      self.dispatchEvent(\"loadend\");\n    }\n  };\n};\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 2000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","export const globalThisShim = global;\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport, TransportError } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\nexport { nextTick } from \"./transports/websocket-constructor.js\";\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport debugModule from \"debug\"; // debug()\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { defaultBinaryType } from \"./transports/websocket-constructor.js\";\nconst debug = debugModule(\"engine.io-client:socket\"); // debug()\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        debug('creating transport \"%s\"', name);\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        debug(\"options: %j\", opts);\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            debug(\"error while creating transport: %s\", e);\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        debug(\"setting transport %s\", transport.name);\n        if (this.transport) {\n            debug(\"clearing existing transport %s\", this.transport.name);\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        debug('probing transport \"%s\"', name);\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            debug('probe transport \"%s\" opened', name);\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    debug('probe transport \"%s\" pong', name);\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    debug('pausing current transport \"%s\"', this.transport.name);\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        debug(\"changing transport and sending upgrade packet\");\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    debug('probe transport \"%s\" failed', name);\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            debug('probe transport \"%s\" failed because of error: %s', name, err);\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        debug(\"socket open\");\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            debug(\"starting upgrade probes\");\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            this.resetPingTimeout();\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n            debug('packet received with socket readyState \"%s\"', this.readyState);\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            debug(\"flushing %d packets in socket\", packets.length);\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                debug(\"only send %d out of %d packets\", i, this.writeBuffer.length);\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        debug(\"payload size is %d (max: %d)\", payloadSize, this.maxPayload);\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            debug(\"socket closing - telling transport to close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        debug(\"socket error %j\", err);\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket close with reason: \"%s\"', reason);\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport debugModule from \"debug\"; // debug()\nimport { encode } from \"./contrib/parseqs.js\";\nconst debug = debugModule(\"engine.io-client:transport\"); // debug()\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n            debug(\"transport is not open, discarding packets\");\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: Polling,\n};\n","import { Transport } from \"../transport.js\";\nimport debugModule from \"debug\"; // debug()\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { createCookieJar, XHR as XMLHttpRequest, } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nconst debug = debugModule(\"engine.io-client:polling\"); // debug()\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = createCookieJar();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            debug(\"paused\");\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                debug(\"we are currently polling - waiting to pause\");\n                total++;\n                this.once(\"pollComplete\", function () {\n                    debug(\"pre-pause polling complete\");\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                debug(\"we are currently writing - waiting to pause\");\n                total++;\n                this.once(\"drain\", function () {\n                    debug(\"pre-pause writing complete\");\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        debug(\"polling\");\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        debug(\"polling got data %s\", data);\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n                debug('ignoring poll - transport state \"%s\"', this.readyState);\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            debug(\"writing close packet\");\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            debug(\"transport open - closing\");\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            debug(\"transport not open - deferring close\");\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        debug(\"xhr poll\");\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            debug(\"xhr open %s: %s\", this.method, this.uri);\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            debug(\"xhr data %s\", this.data);\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import ws from \"ws\";\nexport const WebSocket = ws;\nexport const usingBrowserWebSocket = false;\nexport const defaultBinaryType = \"nodebuffer\";\nexport const nextTick = process.nextTick;\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport debugModule from \"debug\"; // debug()\nimport { encodePacket } from \"engine.io-parser\";\nconst debug = debugModule(\"engine.io-client:websocket\"); // debug()\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                    debug(\"websocket closed before onclose event\");\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"./websocket-constructor.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"engine.io-client:webtransport\"); // debug()\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            debug(\"transport closed gracefully\");\n            this.onClose();\n        })\n            .catch((err) => {\n            debug(\"transport closed due to %s\", err);\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this.writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            debug(\"session is closed\");\n                            return;\n                        }\n                        debug(\"received chunk: %o\", value);\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                        debug(\"an error occurred while reading: %s\", err);\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this.writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this.writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import * as XMLHttpRequestModule from \"xmlhttprequest-ssl\";\nexport const XHR = XMLHttpRequestModule.default || XMLHttpRequestModule;\nexport function createCookieJar() {\n    return new CookieJar();\n}\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\n */\nexport function parse(setCookieString) {\n    const parts = setCookieString.split(\"; \");\n    const i = parts[0].indexOf(\"=\");\n    if (i === -1) {\n        return;\n    }\n    const name = parts[0].substring(0, i).trim();\n    if (!name.length) {\n        return;\n    }\n    let value = parts[0].substring(i + 1).trim();\n    if (value.charCodeAt(0) === 0x22) {\n        // remove double quotes\n        value = value.slice(1, -1);\n    }\n    const cookie = {\n        name,\n        value,\n    };\n    for (let j = 1; j < parts.length; j++) {\n        const subParts = parts[j].split(\"=\");\n        if (subParts.length !== 2) {\n            continue;\n        }\n        const key = subParts[0].trim();\n        const value = subParts[1].trim();\n        switch (key) {\n            case \"Expires\":\n                cookie.expires = new Date(value);\n                break;\n            case \"Max-Age\":\n                const expiration = new Date();\n                expiration.setUTCSeconds(expiration.getUTCSeconds() + parseInt(value, 10));\n                cookie.expires = expiration;\n                break;\n            default:\n            // ignore other keys\n        }\n    }\n    return cookie;\n}\nexport class CookieJar {\n    constructor() {\n        this.cookies = new Map();\n    }\n    parseCookies(xhr) {\n        const values = xhr.getResponseHeader(\"set-cookie\");\n        if (!values) {\n            return;\n        }\n        values.forEach((value) => {\n            const parsed = parse(value);\n            if (parsed) {\n                this.cookies.set(parsed.name, parsed);\n            }\n        });\n    }\n    addCookies(xhr) {\n        const cookies = [];\n        this.cookies.forEach((cookie, name) => {\n            var _a;\n            if (((_a = cookie.expires) === null || _a === void 0 ? void 0 : _a.getTime()) < Date.now()) {\n                this.cookies.delete(name);\n            }\n            else {\n                cookies.push(`${name}=${cookie.value}`);\n            }\n        });\n        if (cookies.length) {\n            xhr.setDisableHeaderCheck(true);\n            xhr.setRequestHeader(\"cookie\", cookies.join(\"; \"));\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","import createWebSocketStream from './lib/stream.js';\nimport Receiver from './lib/receiver.js';\nimport Sender from './lib/sender.js';\nimport WebSocket from './lib/websocket.js';\nimport WebSocketServer from './lib/websocket-server.js';\n\nexport { createWebSocketStream, Receiver, Sender, WebSocket, WebSocketServer };\nexport default WebSocket;\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        const buffer = Buffer.from(encodedPacket.substring(1), \"base64\");\n        return {\n            type: \"message\",\n            data: mapBinary(buffer, binaryType)\n        };\n    }\n    if (!PACKET_TYPES_REVERSE[type]) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"arraybuffer\":\n            if (data instanceof ArrayBuffer) {\n                // from WebSocket & binaryType \"arraybuffer\"\n                return data;\n            }\n            else if (Buffer.isBuffer(data)) {\n                // from HTTP long-polling\n                return data.buffer.slice(data.byteOffset, data.byteOffset + data.byteLength);\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n        case \"nodebuffer\":\n        default:\n            if (Buffer.isBuffer(data)) {\n                // from HTTP long-polling or WebSocket & binaryType \"nodebuffer\" (default)\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return Buffer.from(data);\n            }\n    }\n};\n","import { PACKET_TYPES } from \"./commons.js\";\nexport const encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n        return callback(supportsBinary ? data : \"b\" + toBuffer(data, true).toString(\"base64\"));\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst toBuffer = (data, forceBufferConversion) => {\n    if (Buffer.isBuffer(data) ||\n        (data instanceof Uint8Array && !forceBufferConversion)) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return Buffer.from(data);\n    }\n    else {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n    }\n};\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (packet.data instanceof ArrayBuffer || ArrayBuffer.isView(packet.data)) {\n        return callback(toBuffer(packet.data, false));\n    }\n    encodePacket(packet, true, encoded => {\n        if (!TEXT_ENCODER) {\n            // lazily created for compatibility with Node.js 10\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, encodedPacket => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        }\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else if (state === 2 /* READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        }\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client\"); // debug()\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client:manager\"); // debug()\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            debug(\"error\");\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"closed due to %s\", reason);\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client:socket\"); // debug()\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            debug(\"emitting packet with ack id %d\", id);\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    debug(\"removing packet with ack id %d from the buffer\", id);\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            debug(\"event with ack id %d has timed out after %d ms\", id, timeout);\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    debug(\"packet [%d] is discarded after %d tries\", packet.id, packet.tryCount);\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                debug(\"packet [%d] was successfully sent\", packet.id);\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        debug(\"draining queue\");\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            debug(\"packet [%d] has already been sent and is waiting for an ack\", packet.id);\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        debug(\"sending packet [%d] (try n°%d)\", packet.id, packet.tryCount);\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","import { parse } from \"engine.io-client\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client:url\"); // debug()\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-parser\"); // debug()\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n"],"names":["DOCUMENT","isPlatformServer","isDevMode","PLATFORM_ID","Subject","SeoService","constructor","title","meta","injector","document","platformId","destroyed","updateTitle","setTitle","updateMetaTags","metaTags","forEach","m","updateTag","metaTag","name","content","updateComponentSeo","seoObj","isMainPage","tagValue","url","description","image","updateFbSeo","createAlternateLink","createCanonicalLink","tags","get","toLowerCase","URL","location","href","property","appId","canURL","link","createElement","setAttribute","head","appendChild","updateSeoMetaData","obj","video","console","log","_","i0","ɵɵinject","i1","Title","Meta","Injector","_2","factory","ɵfac","providedIn","isPlatformBrowser","io","environment","SocketService","socket","socketUrl","reconnectionDelay","reconnectionDelayMax","randomizationFactor","reconnectionAttempts","transports","getPost","params","callback","emit","createOrEditPost","file","connected","connect","editPost","getCommunityPost","createCommunityPost","createCommunity","getCommunity","likeFeedPost","likeFeedComments","disLikeFeedPost","commentOnPost","RouterModule","HomeComponent","routes","path","redirectTo","pathMatch","component","HomeRoutingModule","_3","forChild","imports","exports","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵlistener","HomeComponent_ng_container_5_div_6_Template_button_click_1_listener","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","loadMore","ɵɵelement","ɵɵtemplate","HomeComponent_ng_container_5_div_6_Template","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","_c0","ɵɵtextInterpolate","ctx_r1","channelData","firstname","videoList","hasMoreData","length","HomeComponent_ng_container_6_div_9_Template_button_click_1_listener","_r9","ctx_r8","recommendedLoadMore","HomeComponent_ng_container_6_div_9_Template","ctx_r2","recommendedVideoList","hasRecommendedData","ctx_r10","searchChannelData","ctx_r11","searchPostData","HomeComponent_ng_container_7_Template_fa_icon_click_9_listener","_r13","ctx_r12","clearSearchData","HomeComponent_ng_container_7_Template_a_click_12_listener","ctx_r14","switchTab","HomeComponent_ng_container_7_Template_a_click_15_listener","ctx_r15","HomeComponent_ng_container_7_app_channels_card_17_Template","HomeComponent_ng_container_7_app_video_card_18_Template","ɵɵtextInterpolate1","ctx_r3","searchResults","searchText","_c1","ɵɵclassProp","activeTab","route","commonService","spinner","socketService","authService","shareService","seoService","apiUrl","isNavigationEnd","activePage","activeFeturePage","channelName","receivedSearchText","profileId","JSON","parse","getUserData","Id","userId","UserID","channelId","localStorage","getItem","paramMap","subscribe","getChannelDetails","getChannelByUserId","data","ngOnInit","ngAfterViewInit","room","on","notificationId","id","isNotify","getNotification","next","res","setItem","isRead","error","value","getPostVideosById","profileid","show","post","size","page","hide","concat","tabName","onSearchData","search","channels","posts","ɵɵdirectiveInject","ActivatedRoute","i2","CommonService","i3","NgxSpinnerService","i4","i5","AuthService","i6","ShareService","i7","selectors","decls","vars","consts","template","HomeComponent_Template","rf","ctx","HomeComponent_Template_app_lf_dashboard_searchTextEmitter_3_listener","$event","HomeComponent_ng_container_4_Template","HomeComponent_ng_container_5_Template","HomeComponent_ng_container_6_Template","HomeComponent_ng_container_7_Template","SharedModule","HomeModule","declarations","formatArgs","save","load","useColors","storage","localstorage","destroy","warned","warn","colors","window","process","type","__nwjs","navigator","userAgent","match","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","args","namespace","module","humanize","diff","c","color","splice","index","lastC","replace","debug","namespaces","removeItem","r","env","DEBUG","require","formatters","j","v","stringify","message","setup","createDebug","default","coerce","disable","enable","enabled","Object","keys","key","names","skips","selectColor","hash","i","charCodeAt","Math","abs","prevTime","enableOverride","namespacesCache","enabledCache","self","curr","Number","Date","ms","prev","unshift","format","formatter","val","call","logFn","apply","extend","defineProperty","enumerable","configurable","set","init","delimiter","newDebug","split","len","push","slice","map","toNamespace","join","test","regexp","toString","substring","Error","stack","browser","tty","util","deprecate","supportsColor","stderr","level","inspectOpts","filter","reduce","prop","k","toUpperCase","Boolean","isatty","fd","colorCode","prefix","getDate","hideDate","toISOString","write","o","inspect","str","trim","O","EMPTY_BUFFER","list","totalLength","target","Buffer","allocUnsafe","offset","buf","_mask","source","mask","output","_unmask","buffer","toArrayBuffer","byteLength","byteOffset","toBuffer","readOnly","isBuffer","ArrayBuffer","from","isView","unmask","WS_NO_BUFFER_UTIL","bufferUtil","e","BINARY_TYPES","alloc","GUID","kForOnEventAttribute","Symbol","kListener","kStatusCode","kWebSocket","NOOP","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","Event","prototype","CloseEvent","options","code","undefined","reason","wasClean","ErrorEvent","MessageEvent","EventTarget","addEventListener","handler","listener","listeners","wrapper","onMessage","isBinary","event","callListener","onClose","_closeFrameReceived","_closeFrameSent","onError","onOpen","once","removeEventListener","removeListener","thisArg","handleEvent","tokenChars","dest","elem","header","offers","create","mustUnescape","isEscaping","inQuotes","extensionName","paramName","start","end","SyntaxError","token","extensions","extension","configurations","Array","isArray","values","kDone","kRun","Limiter","concurrency","pending","Infinity","jobs","add","job","shift","zlib","TRAILER","kPerMessageDeflate","kTotalLength","kCallback","kBuffers","zlibLimiter","PerMessageDeflate","isServer","maxPayload","_maxPayload","_options","_threshold","threshold","_isServer","_deflate","_inflate","concurrencyLimit","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","normalizeParams","acceptAsServer","acceptAsClient","cleanup","close","opts","accepted","find","response","num","isInteger","TypeError","decompress","fin","done","_decompress","err","result","compress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","inflateOnError","inflateOnData","flush","_readableState","endEmitted","reset","createDeflateRaw","zlibDeflateOptions","deflateOnData","Z_SYNC_FLUSH","chunk","RangeError","Writable","isValidStatusCode","isValidUTF8","GET_INFO","GET_PAYLOAD_LENGTH_16","GET_PAYLOAD_LENGTH_64","GET_MASK","GET_DATA","INFLATING","Receiver","_binaryType","binaryType","_extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_state","_loop","_write","encoding","cb","startLoop","consume","n","dst","Uint8Array","getInfo","getPayloadLength16","getPayloadLength64","getMask","getData","compressed","haveLength","readUInt16BE","readUInt32BE","pow","controlMessage","dataMessage","perMessageDeflate","er","messageLength","fragments","ErrorCtor","statusCode","errorCode","captureStackTrace","net","tls","randomFillSync","applyMask","kByteLength","maskBuffer","Sender","generateMask","_generateMask","_maskBuffer","_socket","_firstFragment","_deflating","_queue","frame","merge","skipMasking","dataLength","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","enqueue","dispatch","sendFrame","ping","pong","send","binary","dequeue","Reflect","cork","uncork","Duplex","emitClose","stream","duplexOnEnd","_writableState","finished","duplexOnError","listenerCount","createWebSocketStream","ws","terminateOnDestroy","duplex","autoDestroy","objectMode","writableObjectMode","msg","pause","_destroy","readyState","CLOSED","nextTick","called","terminate","_final","CONNECTING","open","finish","_read","isPaused","resume","protocols","Set","protocol","has","_isValidUTF8","WS_NO_UTF_8_VALIDATE","EventEmitter","http","https","createHash","subprotocol","WebSocket","keyRegex","RUNNING","CLOSING","WebSocketServer","handleProtocols","clientTracking","verifyClient","noServer","backlog","server","host","port","_server","createServer","req","body","STATUS_CODES","writeHead","listen","emitConnection","bind","_removeListeners","addListeners","listening","upgrade","handleUpgrade","clients","_shouldEmitClose","address","shouldHandle","indexOf","pathname","socketOnError","headers","version","method","abortHandshakeOrEmitwsClientError","abortHandshake","secWebSocketProtocol","secWebSocketExtensions","info","origin","secure","authorized","encrypted","verified","completeUpgrade","readable","writable","digest","update","_protocol","setSocket","delete","removeListeners","Connection","h","randomBytes","Readable","closeTimeout","kAborted","protocolVersions","readyStates","subprotocolRegex","_closeCode","_closeMessage","_closeTimer","_paused","_readyState","_receiver","_sender","_bufferedAmount","_redirects","initAsClient","includes","bufferedAmount","onclose","onerror","onopen","onmessage","_url","receiver","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","setTimeout","setNoDelay","socketOnClose","socketOnData","socketOnEnd","OPEN","removeAllListeners","_req","errorEmitted","sendAfterClose","needDrain","websocket","protocolVersion","followRedirects","maxRedirects","createConnection","socketPath","hostname","timeout","parsedUrl","isSecure","isIpcUrl","invalidUrlMessage","emitErrorAndClose","defaultPort","request","protocolSet","tlsConnect","netConnect","startsWith","Upgrade","handshakeTimeout","Origin","username","password","auth","parts","_originalIpc","_originalSecure","_originalHostOrSocketPath","entries","isSameHost","authorization","cookie","abort","addr","serverProt","protError","extensionNames","servername","isIP","setHeader","receiverOnFinish","read","clearTimeout","flag","argv","pos","terminatorPos","s","d","w","y","isFinite","long","fmtLong","fmtShort","String","exec","parseFloat","msAbs","round","plural","isPlural","os","hasFlag","forceColor","FORCE_COLOR","translateLevel","hasBasic","has256","has16m","isTTY","min","platform","osRelease","release","versions","node","some","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","getSupportLevel","stdout","fs","Url","spawn","XMLHttpRequest","settings","disableHeaderCheck","defaultHeaders","assign","forbiddenRequestHeaders","forbiddenRequestMethods","sendFlag","errorFlag","abortedFlag","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","onreadystatechange","responseText","responseXML","status","statusText","isAllowedHttpHeader","isAllowedHttpMethod","async","user","setState","setDisableHeaderCheck","state","setRequestHeader","getResponseHeader","getAllResponseHeaders","substr","getRequestHeader","ssl","local","readFile","unescape","handleError","errno","readFileSync","uri","authBuf","agent","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","doRequest","dispatchEvent","responseHandler","resp","newOptions","errorHandler","setEncoding","autoUnref","unref","contentFile","pid","syncFile","writeFileSync","execString","syncProc","existsSync","stdin","unlinkSync","errorObj","ev","setImmediate","fire","Emitter","mixin","fn","_callbacks","off","arguments","callbacks","emitReserved","hasListeners","encode","hasOwnProperty","encodeURIComponent","decode","qs","qry","pairs","l","pair","decodeURIComponent","re","src","b","authority","ipv6uri","pathNames","queryKey","regx","query","$0","$2","alphabet","seed","encoded","floor","decoded","charAt","yeast","now","globalThisShim","global","Socket","Transport","TransportError","installTimerFunctions","debugModule","defaultBinaryType","writeBuffer","prevBufferLen","withCredentials","timestampParam","rememberUpgrade","addTrailingSlash","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","transport","offlineEventListener","createTransport","EIO","sid","priorWebsocketSuccess","setTimeoutFn","setTransport","onDrain","onPacket","probe","failed","onTransportOpen","upgrading","freezeTransport","onTransportClose","onupgrade","to","packet","resetPingTimeout","onHandshake","sendPacket","filterUpgrades","clearTimeoutFn","packets","getWritablePackets","shouldCheckPayloadSize","payloadSize","cleanupAndClose","waitForUpgrade","filteredUpgrades","decodePacket","context","doOpen","doClose","onData","details","onPause","createUri","schema","_hostname","_port","_query","encodedQuery","Polling","WS","WT","webtransport","polling","encodePayload","decodePayload","createCookieJar","XHR","pick","globalThis","empty","hasXHR2","xhr","xdomain","responseType","isSSL","xd","forceBase64","supportsBinary","cookieJar","poll","total","doPoll","doWrite","timestampRequests","b64","Request","xhrStatus","pollXhr","_a","extraHeaders","addCookies","requestTimeout","parseCookies","onLoad","requestsCount","requests","fromError","attachEvent","unloadHandler","terminationEvent","usingBrowserWebSocket","encodePacket","isReactNative","product","check","addEventListeners","closeEvent","lastPacket","createPacketDecoderStream","createPacketEncoderStream","WebTransport","closed","then","catch","ready","createBidirectionalStream","decoderStream","MAX_SAFE_INTEGER","reader","pipeThrough","getReader","encoderStream","pipeTo","writer","getWriter","XMLHttpRequestModule","CookieJar","setCookieString","subParts","expires","expiration","setUTCSeconds","getUTCSeconds","cookies","Map","parsed","getTime","attr","acc","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","useNativeTimers","BASE64_OVERHEAD","utf8Length","ceil","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","encodedPacket","mapBinary","forceBufferConversion","TEXT_ENCODER","encodePacketToBinary","TextEncoder","SEPARATOR","fromCharCode","encodedPackets","count","encodedPayload","decodedPacket","TransformStream","transform","controller","DataView","setUint8","view","setUint16","setBigUint64","BigInt","TEXT_DECODER","chunks","concatChunks","TextDecoder","expectedLength","headerArray","getUint16","getUint32","Backoff","max","factor","jitter","attempts","duration","rand","random","deviation","setMin","setMax","setJitter","Manager","cache","lookup","sameNamespace","newConnection","forceNew","multiplex","Engine","parser","nsps","subs","reconnection","backoff","_parser","encoder","Encoder","decoder","Decoder","_autoConnect","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","engine","skipReconnect","openSubDestroy","errorSub","timer","onping","ondata","ondecoded","nsp","active","_close","_packet","subDestroy","disconnect","delay","onreconnect","attempt","PacketType","RESERVED_EVENTS","freeze","connect_error","disconnecting","newListener","recovered","receiveBuffer","sendBuffer","_queueSeq","ids","acks","flags","_opts","disconnected","subEvents","onpacket","retries","fromQueue","volatile","_addToQueue","EVENT","ack","pop","_registerAckCallback","isTransportWritable","discardPacket","notifyOutgoingListeners","ackTimeout","emitWithAck","withErr","Promise","resolve","reject","arg1","arg2","tryCount","responseArgs","hasError","_drainQueue","force","_sendConnectPacket","CONNECT","_pid","_lastOffset","onconnect","BINARY_EVENT","onevent","ACK","BINARY_ACK","onack","DISCONNECT","ondisconnect","CONNECT_ERROR","emitEvent","_anyListeners","sent","emitBuffered","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","loc","ipv6","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","newData","reconstructPacket","_reconstructPacket","isIndexValid","hasBinary","replacer","encodeAsBinary","encodeAsString","deconstruction","isObject","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","base64","takeBinaryData","p","payload","tryParse","isPayloadValid","finishedReconstruction","reconPack","binData","withNativeArrayBuffer","withNativeBlob","Blob","withNativeFile","File","toJSON"],"sourceRoot":"webpack:///","x_google_ignoreList":[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55]}